(function(n,m,t){function x(){var a=n.L;c.noConflict=function(){n.L=a;return this};n.L=c}var c={version:"1.0.2+4bbb16c"};"object"===typeof module&&"object"===typeof module.exports?module.exports=c:"function"===typeof define&&define.amd&&define(c);"undefined"!==typeof n&&x();c.Util={extend:function(a){var b,c,d,f;c=1;for(d=arguments.length;c<d;c++)for(b in f=arguments[c],f)a[b]=f[b];return a},create:Object.create||function(){function a(){}return function(b){a.prototype=b;return new a}}(),bind:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          b){var c=Array.prototype.slice;if(a.bind)return a.bind.apply(a,c.call(arguments,1));var d=c.call(arguments,2);return function(){return a.apply(b,d.length?d.concat(c.call(arguments)):arguments)}},stamp:function(a){a._leaflet_id=a._leaflet_id||++c.Util.lastId;return a._leaflet_id},lastId:0,throttle:function(a,b,c){var d,f,g,h;h=function(){d=!1;f&&(g.apply(c,f),f=!1)};return g=function(){d?f=arguments:(a.apply(c,arguments),setTimeout(h,b),d=!0)}},wrapNum:function(a,b,c){var d=b[1];b=b[0];var f=d-b;return a===
d&&c?a:((a-b)%f+f)%f+b},falseFn:function(){return!1},formatNum:function(a,b){var c=Math.pow(10,b||5);return Math.round(a*c)/c},trim:function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},splitWords:function(a){return c.Util.trim(a).split(/\s+/)},setOptions:function(a,b){a.hasOwnProperty("options")||(a.options=a.options?c.Util.create(a.options):{});for(var e in b)a.options[e]=b[e];return a.options},getParamString:function(a,b,c){var d=[],f;for(f in a)d.push(encodeURIComponent(c?f.toUpperCase():
        f)+"="+encodeURIComponent(a[f]));return(b&&-1!==b.indexOf("?")?"&":"?")+d.join("&")},template:function(a,b){return a.replace(c.Util.templateRe,function(a,c){var f=b[c];if(void 0===f)throw Error("No value provided for variable "+a);"function"===typeof f&&(f=f(b));return f})},templateRe:/\{ *([\w_\-]+) *\}/g,isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},indexOf:function(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="};
    (function(){function a(a){return n["webkit"+a]||n["moz"+a]||n["ms"+a]}function b(a){var b=+new Date,c=Math.max(0,16-(b-e));e=b+c;return n.setTimeout(a,c)}var e=0,d=n.requestAnimationFrame||a("RequestAnimationFrame")||b,f=n.cancelAnimationFrame||a("CancelAnimationFrame")||a("CancelRequestAnimationFrame")||function(a){n.clearTimeout(a)};c.Util.requestAnimFrame=function(a,e,f){if(f&&d===b)a.call(e);else return d.call(n,c.bind(a,e))};c.Util.cancelAnimFrame=function(a){a&&f.call(n,a)}})();c.extend=c.Util.extend;
    c.bind=c.Util.bind;c.stamp=c.Util.stamp;c.setOptions=c.Util.setOptions;c.Class=function(){};c.Class.extend=function(a){var b=function(){this.initialize&&this.initialize.apply(this,arguments);this.callInitHooks()},e=b.__super__=this.prototype,d=c.Util.create(e);d.constructor=b;b.prototype=d;for(var f in this)this.hasOwnProperty(f)&&"prototype"!==f&&(b[f]=this[f]);a.statics&&(c.extend(b,a.statics),delete a.statics);a.includes&&(c.Util.extend.apply(null,[d].concat(a.includes)),delete a.includes);d.options&&
    (a.options=c.Util.extend(c.Util.create(d.options),a.options));c.extend(d,a);d._initHooks=[];d.callInitHooks=function(){if(!this._initHooksCalled){e.callInitHooks&&e.callInitHooks.call(this);this._initHooksCalled=!0;for(var a=0,b=d._initHooks.length;a<b;a++)d._initHooks[a].call(this)}};return b};c.Class.include=function(a){c.extend(this.prototype,a);return this};c.Class.mergeOptions=function(a){c.extend(this.prototype.options,a);return this};c.Class.addInitHook=function(a){var b=Array.prototype.slice.call(arguments,
        1);this.prototype._initHooks=this.prototype._initHooks||[];this.prototype._initHooks.push("function"===typeof a?a:function(){this[a].apply(this,b)});return this};c.Evented=c.Class.extend({on:function(a,b,e){if("object"===typeof a)for(var d in a)this._on(d,a[d],b);else{a=c.Util.splitWords(a);d=0;for(var f=a.length;d<f;d++)this._on(a[d],b,e)}return this},off:function(a,b,e){if(a)if("object"===typeof a)for(var d in a)this._off(d,a[d],b);else{a=c.Util.splitWords(a);d=0;for(var f=a.length;d<f;d++)this._off(a[d],
        b,e)}else delete this._events;return this},_on:function(a,b,c){this._events=this._events||{};var d=this._events[a];d||(d=[],this._events[a]=d);c===this&&(c=void 0);a={fn:b,ctx:c};for(var f=d,g=0,h=f.length;g<h;g++)if(f[g].fn===b&&f[g].ctx===c)return;f.push(a);d.count++},_off:function(a,b,e){var d,f,g;if(this._events&&(d=this._events[a]))if(b){if(e===this&&(e=void 0),d)for(f=0,g=d.length;f<g;f++){var h=d[f];if(h.ctx===e&&h.fn===b){h.fn=c.Util.falseFn;this._firingCount&&(this._events[a]=d=d.slice());
        d.splice(f,1);break}}}else{f=0;for(g=d.length;f<g;f++)d[f].fn=c.Util.falseFn;delete this._events[a]}},fire:function(a,b,e){if(!this.listens(a,e))return this;b=c.Util.extend({},b,{type:a,target:this});if(this._events&&(a=this._events[a])){this._firingCount=this._firingCount+1||1;for(var d=0,f=a.length;d<f;d++){var g=a[d];g.fn.call(g.ctx||this,b)}this._firingCount--}e&&this._propagateEvent(b);return this},listens:function(a,b){var c=this._events&&this._events[a];if(c&&c.length)return!0;if(b)for(var d in this._eventParents)if(this._eventParents[d].listens(a,
            b))return!0;return!1},once:function(a,b,e){if("object"===typeof a){for(var d in a)this.once(d,a[d],b);return this}var f=c.bind(function(){this.off(a,b,e).off(a,f,e)},this);return this.on(a,b,e).on(a,f,e)},addEventParent:function(a){this._eventParents=this._eventParents||{};this._eventParents[c.stamp(a)]=a;return this},removeEventParent:function(a){this._eventParents&&delete this._eventParents[c.stamp(a)];return this},_propagateEvent:function(a){for(var b in this._eventParents)this._eventParents[b].fire(a.type,
        c.extend({layer:a.target},a),!0)}});t=c.Evented.prototype;c.Mixin={Events:t};(function(){var a=navigator.userAgent.toLowerCase(),b=m.documentElement,e="ActiveXObject"in n,d=-1!==a.indexOf("webkit"),f=-1!==a.indexOf("phantom"),g=-1!==a.search("android [23]"),h=-1!==a.indexOf("chrome"),k=-1!==a.indexOf("gecko")&&!d&&!n.opera&&!e,l=0===navigator.platform.indexOf("Win"),w="undefined"!==typeof orientation||-1!==a.indexOf("mobile"),y=!n.PointerEvent&&n.MSPointerEvent,p=n.PointerEvent||y,q=e&&"transition"in
        b.style,u="WebKitCSSMatrix"in n&&"m11"in new n.WebKitCSSMatrix&&!g,v="MozPerspective"in b.style,b="OTransition"in b.style,r=!n.L_NO_TOUCH&&(p||"ontouchstart"in n||n.DocumentTouch&&m instanceof n.DocumentTouch);c.Browser={ie:e,ielt9:e&&!m.addEventListener,edge:"msLaunchUri"in navigator&&!("documentMode"in m),webkit:d,gecko:k,android:-1!==a.indexOf("android"),android23:g,chrome:h,safari:!h&&-1!==a.indexOf("safari"),win:l,ie3d:q,webkit3d:u,gecko3d:v,opera12:b,any3d:!n.L_DISABLE_3D&&(q||u||v)&&!b&&!f,
        mobile:w,mobileWebkit:w&&d,mobileWebkit3d:w&&u,mobileOpera:w&&n.opera,mobileGecko:w&&k,touch:!!r,msPointer:!!y,pointer:!!p,retina:1<(n.devicePixelRatio||n.screen.deviceXDPI/n.screen.logicalXDPI)}})();c.Point=function(a,b,c){this.x=c?Math.round(a):a;this.y=c?Math.round(b):b};c.Point.prototype={clone:function(){return new c.Point(this.x,this.y)},add:function(a){return this.clone()._add(c.point(a))},_add:function(a){this.x+=a.x;this.y+=a.y;return this},subtract:function(a){return this.clone()._subtract(c.point(a))},
        _subtract:function(a){this.x-=a.x;this.y-=a.y;return this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){this.x/=a;this.y/=a;return this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){this.x*=a;this.y*=a;return this},scaleBy:function(a){return new c.Point(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new c.Point(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){this.x=Math.round(this.x);
            this.y=Math.round(this.y);return this},floor:function(){return this.clone()._floor()},_floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){return this.clone()._ceil()},_ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},distanceTo:function(a){a=c.point(a);var b=a.x-this.x;a=a.y-this.y;return Math.sqrt(b*b+a*a)},equals:function(a){a=c.point(a);return a.x===this.x&&a.y===this.y},contains:function(a){a=c.point(a);return Math.abs(a.x)<=
            Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+c.Util.formatNum(this.x)+", "+c.Util.formatNum(this.y)+")"}};c.point=function(a,b,e){return a instanceof c.Point?a:c.Util.isArray(a)?new c.Point(a[0],a[1]):void 0===a||null===a?a:"object"===typeof a&&"x"in a&&"y"in a?new c.Point(a.x,a.y):new c.Point(a,b,e)};c.Bounds=function(a,b){if(a)for(var c=b?[a,b]:a,d=0,f=c.length;d<f;d++)this.extend(c[d])};c.Bounds.prototype={extend:function(a){a=c.point(a);this.min||this.max?
        (this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)):(this.min=a.clone(),this.max=a.clone());return this},getCenter:function(a){return new c.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return new c.Point(this.min.x,this.max.y)},getTopRight:function(){return new c.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var b;
        a="number"===typeof a[0]||a instanceof c.Point?c.point(a):c.bounds(a);a instanceof c.Bounds?(b=a.min,a=a.max):b=a;return b.x>=this.min.x&&a.x<=this.max.x&&b.y>=this.min.y&&a.y<=this.max.y},intersects:function(a){a=c.bounds(a);var b=this.min,e=this.max,d=a.min;a=a.max;var f=a.y>=b.y&&d.y<=e.y;return a.x>=b.x&&d.x<=e.x&&f},overlaps:function(a){a=c.bounds(a);var b=this.min,e=this.max,d=a.min;a=a.max;var f=a.y>b.y&&d.y<e.y;return a.x>b.x&&d.x<e.x&&f},isValid:function(){return!(!this.min||!this.max)}};
    c.bounds=function(a,b){return!a||a instanceof c.Bounds?a:new c.Bounds(a,b)};c.Transformation=function(a,b,c,d){this._a=a;this._b=b;this._c=c;this._d=d};c.Transformation.prototype={transform:function(a,b){return this._transform(a.clone(),b)},_transform:function(a,b){b=b||1;a.x=b*(this._a*a.x+this._b);a.y=b*(this._c*a.y+this._d);return a},untransform:function(a,b){b=b||1;return new c.Point((a.x/b-this._b)/this._a,(a.y/b-this._d)/this._c)}};c.DomUtil={get:function(a){return"string"===typeof a?m.getElementById(a):
        a},getStyle:function(a,b){var c=a.style[b]||a.currentStyle&&a.currentStyle[b];c&&"auto"!==c||!m.defaultView||(c=(c=m.defaultView.getComputedStyle(a,null))?c[b]:null);return"auto"===c?null:c},create:function(a,b,c){a=m.createElement(a);a.className=b||"";c&&c.appendChild(a);return a},remove:function(a){var b=a.parentNode;b&&b.removeChild(a)},empty:function(a){for(;a.firstChild;)a.removeChild(a.firstChild)},toFront:function(a){a.parentNode.appendChild(a)},toBack:function(a){var b=a.parentNode;b.insertBefore(a,
        b.firstChild)},hasClass:function(a,b){if(void 0!==a.classList)return a.classList.contains(b);var e=c.DomUtil.getClass(a);return 0<e.length&&(new RegExp("(^|\\s)"+b+"(\\s|$)")).test(e)},addClass:function(a,b){if(void 0!==a.classList)for(var e=c.Util.splitWords(b),d=0,f=e.length;d<f;d++)a.classList.add(e[d]);else c.DomUtil.hasClass(a,b)||(e=c.DomUtil.getClass(a),c.DomUtil.setClass(a,(e?e+" ":"")+b))},removeClass:function(a,b){void 0!==a.classList?a.classList.remove(b):c.DomUtil.setClass(a,c.Util.trim((" "+
    c.DomUtil.getClass(a)+" ").replace(" "+b+" "," ")))},setClass:function(a,b){void 0===a.className.baseVal?a.className=b:a.className.baseVal=b},getClass:function(a){return void 0===a.className.baseVal?a.className:a.className.baseVal},setOpacity:function(a,b){"opacity"in a.style?a.style.opacity=b:"filter"in a.style&&c.DomUtil._setOpacityIE(a,b)},_setOpacityIE:function(a,b){var c=!1;try{c=a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(d){if(1===b)return}b=Math.round(100*b);c?(c.Enabled=100!==
        b,c.Opacity=b):a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(opacity="+b+")"},testProp:function(a){for(var b=m.documentElement.style,c=0;c<a.length;c++)if(a[c]in b)return a[c];return!1},setTransform:function(a,b,e){b=b||new c.Point(0,0);a.style[c.DomUtil.TRANSFORM]=(c.Browser.ie3d?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(e?" scale("+e+")":"")},setPosition:function(a,b){a._leaflet_pos=b;c.Browser.any3d?c.DomUtil.setTransform(a,b):(a.style.left=b.x+"px",a.style.top=
        b.y+"px")},getPosition:function(a){return a._leaflet_pos||new c.Point(0,0)}};(function(){c.DomUtil.TRANSFORM=c.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]);var a=c.DomUtil.TRANSITION=c.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);c.DomUtil.TRANSITION_END="webkitTransition"===a||"OTransition"===a?a+"End":"transitionend";if("onselectstart"in m)c.DomUtil.disableTextSelection=function(){c.DomEvent.on(n,
        "selectstart",c.DomEvent.preventDefault)},c.DomUtil.enableTextSelection=function(){c.DomEvent.off(n,"selectstart",c.DomEvent.preventDefault)};else{var b=c.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);c.DomUtil.disableTextSelection=function(){if(b){var a=m.documentElement.style;this._userSelect=a[b];a[b]="none"}};c.DomUtil.enableTextSelection=function(){b&&(m.documentElement.style[b]=this._userSelect,delete this._userSelect)}}c.DomUtil.disableImageDrag=
        function(){c.DomEvent.on(n,"dragstart",c.DomEvent.preventDefault)};c.DomUtil.enableImageDrag=function(){c.DomEvent.off(n,"dragstart",c.DomEvent.preventDefault)};c.DomUtil.preventOutline=function(a){for(;-1===a.tabIndex;)a=a.parentNode;a&&a.style&&(c.DomUtil.restoreOutline(),this._outlineElement=a,this._outlineStyle=a.style.outline,a.style.outline="none",c.DomEvent.on(n,"keydown",c.DomUtil.restoreOutline,this))};c.DomUtil.restoreOutline=function(){this._outlineElement&&(this._outlineElement.style.outline=
        this._outlineStyle,delete this._outlineElement,delete this._outlineStyle,c.DomEvent.off(n,"keydown",c.DomUtil.restoreOutline,this))}})();c.LatLng=function(a,b,c){if(isNaN(a)||isNaN(b))throw Error("Invalid LatLng object: ("+a+", "+b+")");this.lat=+a;this.lng=+b;void 0!==c&&(this.alt=+c)};c.LatLng.prototype={equals:function(a,b){if(!a)return!1;a=c.latLng(a);return Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng))<=(void 0===b?1E-9:b)},toString:function(a){return"LatLng("+c.Util.formatNum(this.lat,
            a)+", "+c.Util.formatNum(this.lng,a)+")"},distanceTo:function(a){return c.CRS.Earth.distance(this,c.latLng(a))},wrap:function(){return c.CRS.Earth.wrapLatLng(this)},toBounds:function(a){a=180*a/40075017;var b=a/Math.cos(Math.PI/180*this.lat);return c.latLngBounds([this.lat-a,this.lng-b],[this.lat+a,this.lng+b])},clone:function(){return new c.LatLng(this.lat,this.lng,this.alt)}};c.latLng=function(a,b,e){return a instanceof c.LatLng?a:c.Util.isArray(a)&&"object"!==typeof a[0]?3===a.length?new c.LatLng(a[0],
        a[1],a[2]):2===a.length?new c.LatLng(a[0],a[1]):null:void 0===a||null===a?a:"object"===typeof a&&"lat"in a?new c.LatLng(a.lat,"lng"in a?a.lng:a.lon,a.alt):void 0===b?null:new c.LatLng(a,b,e)};c.LatLngBounds=function(a,b){if(a)for(var c=b?[a,b]:a,d=0,f=c.length;d<f;d++)this.extend(c[d])};c.LatLngBounds.prototype={extend:function(a){var b=this._southWest,e=this._northEast,d;if(a instanceof c.LatLng)d=a;else if(a instanceof c.LatLngBounds){if(d=a._southWest,a=a._northEast,!d||!a)return this}else return a?
        this.extend(c.latLng(a)||c.latLngBounds(a)):this;b||e?(b.lat=Math.min(d.lat,b.lat),b.lng=Math.min(d.lng,b.lng),e.lat=Math.max(a.lat,e.lat),e.lng=Math.max(a.lng,e.lng)):(this._southWest=new c.LatLng(d.lat,d.lng),this._northEast=new c.LatLng(a.lat,a.lng));return this},pad:function(a){var b=this._southWest,e=this._northEast,d=Math.abs(b.lat-e.lat)*a;a*=Math.abs(b.lng-e.lng);return new c.LatLngBounds(new c.LatLng(b.lat-d,b.lng-a),new c.LatLng(e.lat+d,e.lng+a))},getCenter:function(){return new c.LatLng((this._southWest.lat+
        this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new c.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new c.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},
        contains:function(a){a="number"===typeof a[0]||a instanceof c.LatLng?c.latLng(a):c.latLngBounds(a);var b=this._southWest,e=this._northEast,d;a instanceof c.LatLngBounds?(d=a.getSouthWest(),a=a.getNorthEast()):d=a;return d.lat>=b.lat&&a.lat<=e.lat&&d.lng>=b.lng&&a.lng<=e.lng},intersects:function(a){a=c.latLngBounds(a);var b=this._southWest,e=this._northEast,d=a.getSouthWest();a=a.getNorthEast();var f=a.lng>=b.lng&&d.lng<=e.lng;return a.lat>=b.lat&&d.lat<=e.lat&&f},overlaps:function(a){a=c.latLngBounds(a);
            var b=this._southWest,e=this._northEast,d=a.getSouthWest();a=a.getNorthEast();var f=a.lng>b.lng&&d.lng<e.lng;return a.lat>b.lat&&d.lat<e.lat&&f},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join()},equals:function(a){if(!a)return!1;a=c.latLngBounds(a);return this._southWest.equals(a.getSouthWest())&&this._northEast.equals(a.getNorthEast())},isValid:function(){return!(!this._southWest||!this._northEast)}};c.latLngBounds=function(a,b){return a instanceof
    c.LatLngBounds?a:new c.LatLngBounds(a,b)};c.Projection={};c.Projection.LonLat={project:function(a){return new c.Point(a.lng,a.lat)},unproject:function(a){return new c.LatLng(a.y,a.x)},bounds:c.bounds([-180,-90],[180,90])};c.Projection.SphericalMercator={R:6378137,MAX_LATITUDE:85.0511287798,project:function(a){var b=Math.PI/180,e=this.MAX_LATITUDE,e=Math.sin(Math.max(Math.min(e,a.lat),-e)*b);return new c.Point(this.R*a.lng*b,this.R*Math.log((1+e)/(1-e))/2)},unproject:function(a){var b=180/Math.PI;
        return new c.LatLng((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*b,a.x*b/this.R)},bounds:function(){var a=6378137*Math.PI;return c.bounds([-a,-a],[a,a])}()};c.CRS={latLngToPoint:function(a,b){var c=this.projection.project(a),d=this.scale(b);return this.transformation._transform(c,d)},pointToLatLng:function(a,b){var c=this.scale(b),c=this.transformation.untransform(a,c);return this.projection.unproject(c)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},
        scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var b=this.projection.bounds,e=this.scale(a);a=this.transformation.transform(b.min,e);b=this.transformation.transform(b.max,e);return c.bounds(a,b)},infinite:!1,wrapLatLng:function(a){var b=this.wrapLng?c.Util.wrapNum(a.lng,this.wrapLng,!0):a.lng,e=this.wrapLat?c.Util.wrapNum(a.lat,this.wrapLat,!0):a.lat;return c.latLng(e,b,a.alt)}};c.CRS.Simple=
        c.extend({},c.CRS,{projection:c.Projection.LonLat,transformation:new c.Transformation(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,b){var c=b.lng-a.lng,d=b.lat-a.lat;return Math.sqrt(c*c+d*d)},infinite:!0});c.CRS.Earth=c.extend({},c.CRS,{wrapLng:[-180,180],R:6371E3,distance:function(a,b){var c=Math.PI/180,d=a.lat*c,f=b.lat*c;return this.R*Math.acos(Math.min(Math.sin(d)*Math.sin(f)+Math.cos(d)*Math.cos(f)*Math.cos((b.lng-a.lng)*
                c),1))}});c.CRS.EPSG3857=c.extend({},c.CRS.Earth,{code:"EPSG:3857",projection:c.Projection.SphericalMercator,transformation:function(){var a=.5/(Math.PI*c.Projection.SphericalMercator.R);return new c.Transformation(a,.5,-a,.5)}()});c.CRS.EPSG900913=c.extend({},c.CRS.EPSG3857,{code:"EPSG:900913"});c.CRS.EPSG4326=c.extend({},c.CRS.Earth,{code:"EPSG:4326",projection:c.Projection.LonLat,transformation:new c.Transformation(1/180,1,-1/180,.5)});c.Map=c.Evented.extend({options:{crs:c.CRS.EPSG3857,center:void 0,
        zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,b){b=c.setOptions(this,b);this._initContainer(a);this._initLayout();this._onResize=c.bind(this._onResize,this);this._initEvents();b.maxBounds&&this.setMaxBounds(b.maxBounds);void 0!==b.zoom&&(this._zoom=this._limitZoom(b.zoom));b.center&&void 0!==b.zoom&&
    this.setView(c.latLng(b.center),b.zoom,{reset:!0});this._handlers=[];this._layers={};this._zoomBoundLayers={};this._sizeChanged=!0;this.callInitHooks();if(this._zoomAnimated=c.DomUtil.TRANSITION&&c.Browser.any3d&&!c.Browser.mobileOpera&&this.options.zoomAnimation)this._createAnimProxy(),c.DomEvent.on(this._proxy,c.DomUtil.TRANSITION_END,this._catchTransitionEnd,this);this._addLayers(this.options.layers)},setView:function(a,b,e){b=void 0===b?this._zoom:this._limitZoom(b);a=this._limitCenter(c.latLng(a),
        b,this.options.maxBounds);e=e||{};this._stop();if(this._loaded&&!e.reset&&!0!==e&&(void 0!==e.animate&&(e.zoom=c.extend({animate:e.animate},e.zoom),e.pan=c.extend({animate:e.animate,duration:e.duration},e.pan)),this._zoom!==b?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,b,e.zoom):this._tryAnimatedPan(a,e.pan)))return clearTimeout(this._sizeTimer),this;this._resetView(a,b);return this},setZoom:function(a,b){return this._loaded?this.setView(this.getCenter(),a,{zoom:b}):(this._zoom=a,this)},zoomIn:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       b){a=a||(c.Browser.any3d?this.options.zoomDelta:1);return this.setZoom(this._zoom+a,b)},zoomOut:function(a,b){a=a||(c.Browser.any3d?this.options.zoomDelta:1);return this.setZoom(this._zoom-a,b)},setZoomAround:function(a,b,e){var d=this.getZoomScale(b),f=this.getSize().divideBy(2);a=(a instanceof c.Point?a:this.latLngToContainerPoint(a)).subtract(f).multiplyBy(1-1/d);f=this.containerPointToLatLng(f.add(a));return this.setView(f,b,{zoom:e})},_getBoundsCenterZoom:function(a,b){b=b||{};a=a.getBounds?
        a.getBounds():c.latLngBounds(a);var e=c.point(b.paddingTopLeft||b.padding||[0,0]),d=c.point(b.paddingBottomRight||b.padding||[0,0]),f=this.getBoundsZoom(a,!1,e.add(d)),f="number"===typeof b.maxZoom?Math.min(b.maxZoom,f):f,e=d.subtract(e).divideBy(2),d=this.project(a.getSouthWest(),f),g=this.project(a.getNorthEast(),f);return{center:this.unproject(d.add(g).divideBy(2).add(e),f),zoom:f}},fitBounds:function(a,b){a=c.latLngBounds(a);if(!a.isValid())throw Error("Bounds are not valid.");var e=this._getBoundsCenterZoom(a,
        b);return this.setView(e.center,e.zoom,b)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,b){return this.setView(a,this._zoom,{pan:b})},panBy:function(a,b){a=c.point(a).round();b=b||{};if(!a.x&&!a.y)return this.fire("moveend");if(!0!==b.animate&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;this._panAnim||(this._panAnim=new c.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,
        end:this._onPanTransitionEnd},this));b.noMoveStart||this.fire("movestart");if(!1!==b.animate){c.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var e=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,e,b.duration||.25,b.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,b,e){function d(a){a=(u*u-q*q+2.0164*(a?-1:1)*2.0164*v*v)/(4.0328*(a?u:q)*v);a=Math.sqrt(a*a+1)-a;return 1E-9>a?-18:Math.log(a)}function f(a){return(Math.exp(a)+
        Math.exp(-a))/2}function g(a){return q*(f(r)/f(r+1.42*a))}function h(a){var b=f(r);a=r+1.42*a;a=(Math.exp(a)-Math.exp(-a))/2/f(a);return q*(b*a-(Math.exp(r)-Math.exp(-r))/2)/2.0164}function k(){var e=(Date.now()-t)/x,d=(1-Math.pow(1-e,1.5))*z;1>=e?(this._flyToFrame=c.Util.requestAnimFrame(k,this),this._move(this.unproject(l.add(m.subtract(l).multiplyBy(h(d)/v)),p),this.getScaleZoom(q/g(d),p),{flyTo:!0})):this._move(a,b)._moveEnd(!0)}e=e||{};if(!1===e.animate||!c.Browser.any3d)return this.setView(a,
        b,e);this._stop();var l=this.project(this.getCenter()),m=this.project(a),n=this.getSize(),p=this._zoom;a=c.latLng(a);b=void 0===b?p:b;var q=Math.max(n.x,n.y),u=q*this.getZoomScale(p,b),v=m.distanceTo(l)||1,r=d(0),t=Date.now(),z=(d(1)-r)/1.42,x=e.duration?1E3*e.duration:800*z;this._moveStart(!0);k.call(this);return this},flyToBounds:function(a,b){var c=this._getBoundsCenterZoom(a,b);return this.flyTo(c.center,c.zoom,b)},setMaxBounds:function(a){a=c.latLngBounds(a);if(a.isValid())this.options.maxBounds&&
    this.off("moveend",this._panInsideMaxBounds);else return this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds);this.options.maxBounds=a;this._loaded&&this._panInsideMaxBounds();return this.on("moveend",this._panInsideMaxBounds)},setMinZoom:function(a){this.options.minZoom=a;return this._loaded&&this.getZoom()<this.options.minZoom?this.setZoom(a):this},setMaxZoom:function(a){this.options.maxZoom=a;return this._loaded&&this.getZoom()>this.options.maxZoom?this.setZoom(a):this},panInsideBounds:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               b){this._enforcingBounds=!0;var e=this.getCenter(),d=this._limitCenter(e,this._zoom,c.latLngBounds(a));e.equals(d)||this.panTo(d,b);this._enforcingBounds=!1;return this},invalidateSize:function(a){if(!this._loaded)return this;a=c.extend({animate:!1,pan:!0},!0===a?{animate:!0}:a);var b=this.getSize();this._sizeChanged=!0;this._lastCenter=null;var e=this.getSize(),d=b.divideBy(2).round(),f=e.divideBy(2).round(),d=d.subtract(f);if(!d.x&&!d.y)return this;a.animate&&a.pan?this.panBy(d):(a.pan&&this._rawPanBy(d),
        this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c.bind(this.fire,this,"moveend"),200)):this.fire("moveend"));return this.fire("resize",{oldSize:b,newSize:e})},stop:function(){this.setZoom(this._limitZoom(this._zoom));this.options.zoomSnap||this.fire("viewreset");return this._stop()},locate:function(a){a=this._locateOptions=c.extend({timeout:1E4,watch:!1},a);if(!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),
        this;var b=c.bind(this._handleGeolocationResponse,this),e=c.bind(this._handleGeolocationError,this);a.watch?this._locationWatchId=navigator.geolocation.watchPosition(b,e,a):navigator.geolocation.getCurrentPosition(b,e,a);return this},stopLocate:function(){navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId);this._locateOptions&&(this._locateOptions.setView=!1);return this},_handleGeolocationError:function(a){var b=a.code;a=a.message||(1===
        b?"permission denied":2===b?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld();this.fire("locationerror",{code:b,message:"Geolocation error: "+a+"."})},_handleGeolocationResponse:function(a){var b=new c.LatLng(a.coords.latitude,a.coords.longitude),e=b.toBounds(a.coords.accuracy),d=this._locateOptions;if(d.setView){var f=this.getBoundsZoom(e);this.setView(b,d.maxZoom?Math.min(f,d.maxZoom):f)}var b={latlng:b,bounds:e,timestamp:a.timestamp},g;for(g in a.coords)"number"===
    typeof a.coords[g]&&(b[g]=a.coords[g]);this.fire("locationfound",b)},addHandler:function(a,b){if(!b)return this;var c=this[a]=new b(this);this._handlers.push(c);this.options[a]&&c.enable();return this},remove:function(){this._initEvents(!0);if(this._containerId!==this._container._leaflet_id)throw Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(b){this._containerId=this._container._leaflet_id=void 0}c.DomUtil.remove(this._mapPane);
        this._clearControlPos&&this._clearControlPos();this._clearHandlers();this._loaded&&this.fire("unload");for(var a in this._layers)this._layers[a].remove();return this},createPane:function(a,b){var e="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),e=c.DomUtil.create("div",e,b||this._mapPane);a&&(this._panes[a]=e);return e},getCenter:function(){this._checkIfLoaded();return this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},
        getBounds:function(){var a=this.getPixelBounds(),b=this.unproject(a.getBottomLeft()),a=this.unproject(a.getTopRight());return new c.LatLngBounds(b,a)},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?Infinity:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,b,e){a=c.latLngBounds(a);e=c.point(e||[0,0]);var d=this.getZoom()||0,f=this.getMinZoom(),
            g=this.getMaxZoom(),h=a.getNorthWest();a=a.getSouthEast();e=this.getSize().subtract(e);h=this.project(a,d).subtract(this.project(h,d));a=c.Browser.any3d?this.options.zoomSnap:1;d=this.getScaleZoom(Math.min(e.x/h.x,e.y/h.y),d);a&&(d=a/100*Math.round(d/(a/100)),d=b?Math.ceil(d/a)*a:Math.floor(d/a)*a);return Math.max(f,Math.min(g,d))},getSize:function(){if(!this._size||this._sizeChanged)this._size=new c.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1;return this._size.clone()},
        getPixelBounds:function(a,b){var e=this._getTopLeftPoint(a,b);return new c.Bounds(e,e.add(this.getSize()))},getPixelOrigin:function(){this._checkIfLoaded();return this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(void 0===a?this.getZoom():a)},getPane:function(a){return"string"===typeof a?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,b){var c=this.options.crs;b=void 0===b?
            this._zoom:b;return c.scale(a)/c.scale(b)},getScaleZoom:function(a,b){var c=this.options.crs;b=void 0===b?this._zoom:b;c=c.zoom(a*c.scale(b));return isNaN(c)?Infinity:c},project:function(a,b){b=void 0===b?this._zoom:b;return this.options.crs.latLngToPoint(c.latLng(a),b)},unproject:function(a,b){b=void 0===b?this._zoom:b;return this.options.crs.pointToLatLng(c.point(a),b)},layerPointToLatLng:function(a){a=c.point(a).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(a){return this.project(c.latLng(a))._round()._subtract(this.getPixelOrigin())},
        wrapLatLng:function(a){return this.options.crs.wrapLatLng(c.latLng(a))},distance:function(a,b){return this.options.crs.distance(c.latLng(a),c.latLng(b))},containerPointToLayerPoint:function(a){return c.point(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return c.point(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){a=this.containerPointToLayerPoint(c.point(a));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(c.latLng(a)))},
        mouseEventToContainerPoint:function(a){return c.DomEvent.getMousePosition(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){a=this._container=c.DomUtil.get(a);if(!a)throw Error("Map container not found.");if(a._leaflet_id)throw Error("Map container is already initialized.");c.DomEvent.addListener(a,
            "scroll",this._onScroll,this);this._containerId=c.Util.stamp(a)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&c.Browser.any3d;c.DomUtil.addClass(a,"leaflet-container"+(c.Browser.touch?" leaflet-touch":"")+(c.Browser.retina?" leaflet-retina":"")+(c.Browser.ielt9?" leaflet-oldie":"")+(c.Browser.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var b=c.DomUtil.getStyle(a,"position");"absolute"!==b&&"relative"!==b&&"fixed"!==b&&(a.style.position=
            "relative");this._initPanes();this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={};this._mapPane=this.createPane("mapPane",this._container);c.DomUtil.setPosition(this._mapPane,new c.Point(0,0));this.createPane("tilePane");this.createPane("shadowPane");this.createPane("overlayPane");this.createPane("markerPane");this.createPane("tooltipPane");this.createPane("popupPane");this.options.markerZoomAnimation||(c.DomUtil.addClass(a.markerPane,"leaflet-zoom-hide"),
            c.DomUtil.addClass(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,b){c.DomUtil.setPosition(this._mapPane,new c.Point(0,0));var e=!this._loaded;this._loaded=!0;b=this._limitZoom(b);this.fire("viewprereset");var d=this._zoom!==b;this._moveStart(d)._move(a,b)._moveEnd(d);this.fire("viewreset");e&&this.fire("load")},_moveStart:function(a){a&&this.fire("zoomstart");return this.fire("movestart")},_move:function(a,b,c){void 0===b&&(b=this._zoom);var d=this._zoom!==b;this._zoom=b;this._lastCenter=
            a;this._pixelOrigin=this._getNewPixelOrigin(a);(d||c&&c.pinch)&&this.fire("zoom",c);return this.fire("move",c)},_moveEnd:function(a){a&&this.fire("zoomend");return this.fire("moveend")},_stop:function(){c.Util.cancelAnimFrame(this._flyToFrame);this._panAnim&&this._panAnim.stop();return this},_rawPanBy:function(a){c.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||
        this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw Error("Set map center and zoom first.");},_initEvents:function(a){if(c.DomEvent){this._targets={};this._targets[c.stamp(this._container)]=this;a=a?"off":"on";c.DomEvent[a](this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this);if(this.options.trackResize)c.DomEvent[a](n,"resize",this._onResize,this);if(c.Browser.any3d&&this.options.transform3DLimit)this[a]("moveend",
            this._onMoveEnd)}},_onResize:function(){c.Util.cancelAnimFrame(this._resizeRequest);this._resizeRequest=c.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0;this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,b){for(var e=[],d,f="mouseout"===b||
            "mouseover"===b,g=a.target||a.srcElement,h=!1;g;){if((d=this._targets[c.stamp(g)])&&("click"===b||"preclick"===b)&&!a._simulated&&this._draggableMoved(d)){h=!0;break}if(d&&d.listens(b,!0)){if(f&&!c.DomEvent._isExternalTarget(g,a))break;e.push(d);if(f)break}if(g===this._container)break;g=g.parentNode}e.length||h||f||!c.DomEvent._isExternalTarget(g,a)||(e=[this]);return e},_handleDOMEvent:function(a){if(this._loaded&&!c.DomEvent._skipped(a)){var b="keypress"===a.type&&13===a.keyCode?"click":a.type;
            "mousedown"===b&&c.DomUtil.preventOutline(a.target||a.srcElement);this._fireDOMEvent(a,b)}},_fireDOMEvent:function(a,b,e){if("click"===a.type){var d=c.Util.extend({},a);d.type="preclick";this._fireDOMEvent(d,d.type,e)}if(!a._stopped&&(e=(e||[]).concat(this._findEventTargets(a,b)),e.length)){var f=e[0];"contextmenu"===b&&f.listens(b,!0)&&c.DomEvent.preventDefault(a);d={originalEvent:a};if("keypress"!==a.type){var g=f instanceof c.Marker;d.containerPoint=g?this.latLngToContainerPoint(f.getLatLng()):
            this.mouseEventToContainerPoint(a);d.layerPoint=this.containerPointToLayerPoint(d.containerPoint);d.latlng=g?f.getLatLng():this.layerPointToLatLng(d.layerPoint)}for(a=0;a<e.length&&!(e[a].fire(b,d,!0),d.originalEvent._stopped||e[a].options.nonBubblingEvents&&-1!==c.Util.indexOf(e[a].options.nonBubblingEvents,b));a++);}},_draggableMoved:function(a){a=a.dragging&&a.dragging.enabled()?a:this;return a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=
            0,b=this._handlers.length;a<b;a++)this._handlers[a].disable()},whenReady:function(a,b){if(this._loaded)a.call(b||this,{target:this});else this.on("load",a,b);return this},_getMapPanePos:function(){return c.DomUtil.getPosition(this._mapPane)||new c.Point(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,b){return(a&&void 0!==b?this._getNewPixelOrigin(a,b):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               b){var c=this.getSize()._divideBy(2);return this.project(a,b)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,b,c){c=this._getNewPixelOrigin(c,b);return this.project(a,b)._subtract(c)},_latLngBoundsToNewLayerBounds:function(a,b,e){e=this._getNewPixelOrigin(e,b);return c.bounds([this.project(a.getSouthWest(),b)._subtract(e),this.project(a.getNorthWest(),b)._subtract(e),this.project(a.getSouthEast(),b)._subtract(e),this.project(a.getNorthEast(),b)._subtract(e)])},
        _getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,b,e){if(!e)return a;var d=this.project(a,b),f=this.getSize().divideBy(2),f=new c.Bounds(d.subtract(f),d.add(f));e=this._getBoundsOffset(f,e,b);return e.round().equals([0,0])?a:this.unproject(d.add(e),b)},_limitOffset:function(a,b){if(!b)return a;var e=this.getPixelBounds(),
            e=new c.Bounds(e.min.add(a),e.max.add(a));return a.add(this._getBoundsOffset(e,b))},_getBoundsOffset:function(a,b,e){e=c.bounds(this.project(b.getNorthEast(),e),this.project(b.getSouthWest(),e));b=e.min.subtract(a.min);e=e.max.subtract(a.max);a=this._rebound(b.x,-e.x);b=this._rebound(b.y,-e.y);return new c.Point(a,b)},_rebound:function(a,b){return 0<a+b?Math.round(a-b)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(b))},_limitZoom:function(a){var b=this.getMinZoom(),e=this.getMaxZoom(),d=c.Browser.any3d?
            this.options.zoomSnap:1;d&&(a=Math.round(a/d)*d);return Math.max(b,Math.min(e,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){c.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim");this.fire("moveend")},_tryAnimatedPan:function(a,b){var c=this._getCenterOffset(a)._floor();if(!0!==(b&&b.animate)&&!this.getSize().contains(c))return!1;this.panBy(c,b);return!0},_createAnimProxy:function(){var a=this._proxy=c.DomUtil.create("div","leaflet-proxy leaflet-zoom-animated");
            this._panes.mapPane.appendChild(a);this.on("zoomanim",function(b){var e=c.DomUtil.TRANSFORM,d=a.style[e];c.DomUtil.setTransform(a,this.project(b.center,b.zoom),this.getZoomScale(b.zoom,1));d===a.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()},this);this.on("load moveend",function(){var b=this.getCenter(),e=this.getZoom();c.DomUtil.setTransform(a,this.project(b,e),this.getZoomScale(e,1))},this)},_catchTransitionEnd:function(a){this._animatingZoom&&0<=a.propertyName.indexOf("transform")&&
        this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,b,e){if(this._animatingZoom)return!0;e=e||{};if(!this._zoomAnimated||!1===e.animate||this._nothingToAnimate()||Math.abs(b-this._zoom)>this.options.zoomAnimationThreshold)return!1;var d=this.getZoomScale(b),d=this._getCenterOffset(a)._divideBy(1-1/d);if(!0!==e.animate&&!this.getSize().contains(d))return!1;c.Util.requestAnimFrame(function(){this._moveStart(!0)._animateZoom(a,
            b,!0)},this);return!0},_animateZoom:function(a,b,e,d){e&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=b,c.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim"));this.fire("zoomanim",{center:a,zoom:b,noUpdate:d});setTimeout(c.bind(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){this._animatingZoom&&(c.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),c.Util.requestAnimFrame(function(){this._moveEnd(!0)},
            this))}});c.map=function(a,b){return new c.Map(a,b)};c.Layer=c.Evented.extend({options:{pane:"overlayPane",nonBubblingEvents:[],attribution:null},addTo:function(a){a.addLayer(this);return this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){a&&a.removeLayer(this);return this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){this._map._targets[c.stamp(a)]=this;return this},removeInteractiveTarget:function(a){delete this._map._targets[c.stamp(a)];
        return this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var b=a.target;if(b.hasLayer(this)){this._map=b;this._zoomAnimated=b._zoomAnimated;if(this.getEvents){var c=this.getEvents();b.on(c,this);this.once("remove",function(){b.off(c,this)},this)}this.onAdd(b);this.getAttribution&&this._map.attributionControl&&this._map.attributionControl.addAttribution(this.getAttribution());this.fire("add");b.fire("layeradd",{layer:this})}}});c.Map.include({addLayer:function(a){var b=
        c.stamp(a);if(this._layers[b])return this;this._layers[b]=a;a._mapToAdd=this;a.beforeAdd&&a.beforeAdd(this);this.whenReady(a._layerAdd,a);return this},removeLayer:function(a){var b=c.stamp(a);if(!this._layers[b])return this;if(this._loaded)a.onRemove(this);a.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(a.getAttribution());delete this._layers[b];this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove"));a._map=a._mapToAdd=null;return this},hasLayer:function(a){return!!a&&
        c.stamp(a)in this._layers},eachLayer:function(a,b){for(var c in this._layers)a.call(b,this._layers[c]);return this},_addLayers:function(a){a=a?c.Util.isArray(a)?a:[a]:[];for(var b=0,e=a.length;b<e;b++)this.addLayer(a[b])},_addZoomLimit:function(a){if(isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))this._zoomBoundLayers[c.stamp(a)]=a,this._updateZoomLevels()},_removeZoomLimit:function(a){a=c.stamp(a);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var a=
        Infinity,b=-Infinity,c=this._getZoomSpan(),d;for(d in this._zoomBoundLayers)var f=this._zoomBoundLayers[d].options,a=void 0===f.minZoom?a:Math.min(a,f.minZoom),b=void 0===f.maxZoom?b:Math.max(b,f.maxZoom);this._layersMaxZoom=-Infinity===b?void 0:b;this._layersMinZoom=Infinity===a?void 0:a;c!==this._getZoomSpan()&&this.fire("zoomlevelschange");void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom);void 0===this.options.minZoom&&this._layersMinZoom&&
    this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});c.DomEvent={on:function(a,b,e,d){if("object"===typeof b)for(var f in b)this._on(a,f,b[f],e);else{b=c.Util.splitWords(b);f=0;for(var g=b.length;f<g;f++)this._on(a,b[f],e,d)}return this},off:function(a,b,e,d){if("object"===typeof b)for(var f in b)this._off(a,f,b[f],e);else{b=c.Util.splitWords(b);f=0;for(var g=b.length;f<g;f++)this._off(a,b[f],e,d)}return this},_on:function(a,b,e,d){var f=b+c.stamp(e)+(d?"_"+c.stamp(d):"");if(a._leaflet_events&&
        a._leaflet_events[f])return this;var g=function(b){return e.call(d||a,b||n.event)},h=g;c.Browser.pointer&&0===b.indexOf("touch")?this.addPointerListener(a,b,g,f):c.Browser.touch&&"dblclick"===b&&this.addDoubleTapListener?this.addDoubleTapListener(a,g,f):"addEventListener"in a?"mousewheel"===b?a.addEventListener("onwheel"in a?"wheel":"mousewheel",g,!1):"mouseenter"===b||"mouseleave"===b?(g=function(b){b=b||n.event;c.DomEvent._isExternalTarget(a,b)&&h(b)},a.addEventListener("mouseenter"===b?"mouseover":
        "mouseout",g,!1)):("click"===b&&c.Browser.android&&(g=function(a){return c.DomEvent._filterClick(a,h)}),a.addEventListener(b,g,!1)):"attachEvent"in a&&a.attachEvent("on"+b,g);a._leaflet_events=a._leaflet_events||{};a._leaflet_events[f]=g;return this},_off:function(a,b,e,d){e=b+c.stamp(e)+(d?"_"+c.stamp(d):"");d=a._leaflet_events&&a._leaflet_events[e];if(!d)return this;c.Browser.pointer&&0===b.indexOf("touch")?this.removePointerListener(a,b,e):c.Browser.touch&&"dblclick"===b&&this.removeDoubleTapListener?
        this.removeDoubleTapListener(a,e):"removeEventListener"in a?"mousewheel"===b?a.removeEventListener("onwheel"in a?"wheel":"mousewheel",d,!1):a.removeEventListener("mouseenter"===b?"mouseover":"mouseleave"===b?"mouseout":b,d,!1):"detachEvent"in a&&a.detachEvent("on"+b,d);a._leaflet_events[e]=null;return this},stopPropagation:function(a){a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0;c.DomEvent._skipped(a);return this},disableScrollPropagation:function(a){return c.DomEvent.on(a,
        "mousewheel",c.DomEvent.stopPropagation)},disableClickPropagation:function(a){var b=c.DomEvent.stopPropagation;c.DomEvent.on(a,c.Draggable.START.join(" "),b);return c.DomEvent.on(a,{click:c.DomEvent._fakeStop,dblclick:b})},preventDefault:function(a){a.preventDefault?a.preventDefault():a.returnValue=!1;return this},stop:function(a){return c.DomEvent.preventDefault(a).stopPropagation(a)},getMousePosition:function(a,b){if(!b)return new c.Point(a.clientX,a.clientY);var e=b.getBoundingClientRect();return new c.Point(a.clientX-
        e.left-b.clientLeft,a.clientY-e.top-b.clientTop)},_wheelPxFactor:c.Browser.win&&c.Browser.chrome?2:c.Browser.gecko?n.devicePixelRatio:1,getWheelDelta:function(a){return c.Browser.edge?a.wheelDeltaY/2:a.deltaY&&0===a.deltaMode?-a.deltaY/c.DomEvent._wheelPxFactor:a.deltaY&&1===a.deltaMode?20*-a.deltaY:a.deltaY&&2===a.deltaMode?60*-a.deltaY:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&32765>Math.abs(a.detail)?20*-a.detail:a.detail?a.detail/-32765*60:0},_skipEvents:{},_fakeStop:function(a){c.DomEvent._skipEvents[a.type]=
        !0},_skipped:function(a){var b=this._skipEvents[a.type];this._skipEvents[a.type]=!1;return b},_isExternalTarget:function(a,b){var c=b.relatedTarget;if(!c)return!0;try{for(;c&&c!==a;)c=c.parentNode}catch(d){return!1}return c!==a},_filterClick:function(a,b){var e=a.timeStamp||a.originalEvent&&a.originalEvent.timeStamp,d=c.DomEvent._lastClick&&e-c.DomEvent._lastClick;d&&100<d&&500>d||a.target._simulatedClick&&!a._simulated?c.DomEvent.stop(a):(c.DomEvent._lastClick=e,b(a))}};c.DomEvent.addListener=c.DomEvent.on;
    c.DomEvent.removeListener=c.DomEvent.off;c.PosAnimation=c.Evented.extend({run:function(a,b,e,d){this.stop();this._el=a;this._inProgress=!0;this._duration=e||.25;this._easeOutPower=1/Math.max(d||.5,.2);this._startPos=c.DomUtil.getPosition(a);this._offset=b.subtract(this._startPos);this._startTime=+new Date;this.fire("start");this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=c.Util.requestAnimFrame(this._animate,this);this._step()},
        _step:function(a){var b=+new Date-this._startTime,c=1E3*this._duration;b<c?this._runFrame(this._easeOut(b/c),a):(this._runFrame(1),this._complete())},_runFrame:function(a,b){var e=this._startPos.add(this._offset.multiplyBy(a));b&&e._round();c.DomUtil.setPosition(this._el,e);this.fire("step")},_complete:function(){c.Util.cancelAnimFrame(this._animId);this._inProgress=!1;this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}});c.Projection.Mercator={R:6378137,R_MINOR:6356752.314245179,
        bounds:c.bounds([-2.003750834279E7,-1.549657073972E7],[2.003750834279E7,1.876465623138E7]),project:function(a){var b=Math.PI/180,e=this.R,d=a.lat*b,f=this.R_MINOR/e,f=Math.sqrt(1-f*f),g=f*Math.sin(d),d=-e*Math.log(Math.max(Math.tan(Math.PI/4-d/2)/Math.pow((1-g)/(1+g),f/2),1E-10));return new c.Point(a.lng*b*e,d)},unproject:function(a){for(var b=180/Math.PI,e=this.R,d=this.R_MINOR/e,d=Math.sqrt(1-d*d),f=Math.exp(-a.y/e),g=Math.PI/2-2*Math.atan(f),h=0,k=.1;15>h&&1E-7<Math.abs(k);h++)k=d*Math.sin(g),
            k=Math.pow((1-k)/(1+k),d/2),k=Math.PI/2-2*Math.atan(f*k)-g,g+=k;return new c.LatLng(g*b,a.x*b/e)}};c.CRS.EPSG3395=c.extend({},c.CRS.Earth,{code:"EPSG:3395",projection:c.Projection.Mercator,transformation:function(){var a=.5/(Math.PI*c.Projection.Mercator.R);return new c.Transformation(a,.5,-a,.5)}()});c.GridLayer=c.Layer.extend({options:{tileSize:256,opacity:1,updateWhenIdle:c.Browser.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,noWrap:!1,pane:"tilePane",
        className:"",keepBuffer:2},initialize:function(a){c.setOptions(this,a)},onAdd:function(){this._initContainer();this._levels={};this._tiles={};this._resetView();this._update()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles();c.DomUtil.remove(this._container);a._removeZoomLimit(this);this._tileZoom=this._container=null},bringToFront:function(){this._map&&(c.DomUtil.toFront(this._container),this._setAutoZIndex(Math.max));return this},bringToBack:function(){this._map&&
    (c.DomUtil.toBack(this._container),this._setAutoZIndex(Math.min));return this},getContainer:function(){return this._container},setOpacity:function(a){this.options.opacity=a;this._updateOpacity();return this},setZIndex:function(a){this.options.zIndex=a;this._updateZIndex();return this},isLoading:function(){return this._loading},redraw:function(){this._map&&(this._removeAllTiles(),this._update());return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,
        moveend:this._onMoveEnd};this.options.updateWhenIdle||(this._onMove||(this._onMove=c.Util.throttle(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove);this._zoomAnimated&&(a.zoomanim=this._animateZoom);return a},createTile:function(){return m.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof c.Point?a:new c.Point(a,a)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=
        this.options.zIndex)},_setAutoZIndex:function(a){for(var b=this.getPane().children,c=-a(-Infinity,Infinity),d=0,f=b.length,g;d<f;d++)g=b[d].style.zIndex,b[d]!==this._container&&g&&(c=a(c,+g));isFinite(c)&&(this.options.zIndex=c+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!c.Browser.ielt9){c.DomUtil.setOpacity(this._container,this.options.opacity);var a=+new Date,b=!1,e=!1,d;for(d in this._tiles){var f=this._tiles[d];if(f.current&&f.loaded){var g=Math.min(1,(a-f.loaded)/
        200);c.DomUtil.setOpacity(f.el,g);1>g?b=!0:(f.active&&(e=!0),f.active=!0)}}e&&!this._noPrune&&this._pruneTiles();b&&(c.Util.cancelAnimFrame(this._fadeFrame),this._fadeFrame=c.Util.requestAnimFrame(this._updateOpacity,this))}},_initContainer:function(){this._container||(this._container=c.DomUtil.create("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),1>this.options.opacity&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,
        b=this.options.maxZoom;if(void 0!==a){for(var e in this._levels)this._levels[e].el.children.length||e===a?this._levels[e].el.style.zIndex=b-Math.abs(a-e):(c.DomUtil.remove(this._levels[e].el),this._removeTilesAtZoom(e),delete this._levels[e]);e=this._levels[a];var d=this._map;e||(e=this._levels[a]={},e.el=c.DomUtil.create("div","leaflet-tile-container leaflet-zoom-animated",this._container),e.el.style.zIndex=b,e.origin=d.project(d.unproject(d.getPixelOrigin()),a).round(),e.zoom=a,this._setZoomTransform(e,
        d.getCenter(),d.getZoom()),c.Util.falseFn(e.el.offsetWidth));return this._level=e}},_pruneTiles:function(){if(this._map){var a,b;b=this._map.getZoom();if(b>this.options.maxZoom||b<this.options.minZoom)this._removeAllTiles();else{for(a in this._tiles)b=this._tiles[a],b.retain=b.current;for(a in this._tiles)b=this._tiles[a],b.current&&!b.active&&(b=b.coords,this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2));for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}}},
        _removeTilesAtZoom:function(a){for(var b in this._tiles)this._tiles[b].coords.z===a&&this._removeTile(b)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)c.DomUtil.remove(this._levels[a].el),delete this._levels[a];this._removeAllTiles();this._tileZoom=null},_retainParent:function(a,b,e,d){a=Math.floor(a/2);b=Math.floor(b/2);--e;var f=new c.Point(+a,+b);f.z=+e;f=this._tileCoordsToKey(f);if((f=this._tiles[f])&&f.active)return f.retain=
            !0;f&&f.loaded&&(f.retain=!0);return e>d?this._retainParent(a,b,e,d):!1},_retainChildren:function(a,b,e,d){for(var f=2*a;f<2*a+2;f++)for(var g=2*b;g<2*b+2;g++){var h=new c.Point(f,g);h.z=e+1;h=this._tileCoordsToKey(h);(h=this._tiles[h])&&h.active?h.retain=!0:(h&&h.loaded&&(h.retain=!0),e+1<d&&this._retainChildren(f,g,e+1,d))}},_resetView:function(a){a=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},
        _setView:function(a,b,c,d){var f=Math.round(b);if(void 0!==this.options.maxZoom&&f>this.options.maxZoom||void 0!==this.options.minZoom&&f<this.options.minZoom)f=void 0;var g=this.options.updateWhenZooming&&f!==this._tileZoom;if(!d||g)this._tileZoom=f,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==f&&this._update(a),c||this._pruneTiles(),this._noPrune=!!c;this._setZoomTransforms(a,b)},_setZoomTransforms:function(a,b){for(var c in this._levels)this._setZoomTransform(this._levels[c],
            a,b)},_setZoomTransform:function(a,b,e){var d=this._map.getZoomScale(e,a.zoom);b=a.origin.multiplyBy(d).subtract(this._map._getNewPixelOrigin(b,e)).round();c.Browser.any3d?c.DomUtil.setTransform(a.el,b,d):c.DomUtil.setPosition(a.el,b)},_resetGrid:function(){var a=this._map,b=a.options.crs,c=this._tileSize=this.getTileSize(),d=this._tileZoom,f=this._map.getPixelWorldBounds(this._tileZoom);f&&(this._globalTileRange=this._pxBoundsToTileRange(f));this._wrapX=b.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,
                    b.wrapLng[0]],d).x/c.x),Math.ceil(a.project([0,b.wrapLng[1]],d).x/c.y)];this._wrapY=b.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([b.wrapLat[0],0],d).y/c.x),Math.ceil(a.project([b.wrapLat[1],0],d).y/c.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(a){var b=this._map,e=b._animatingZoom?Math.max(b._animateToZoom,b.getZoom()):b.getZoom(),e=b.getZoomScale(e,this._tileZoom);a=b.project(a,this._tileZoom).floor();b=b.getSize().divideBy(2*
            e);return new c.Bounds(a.subtract(b),a.add(b))},_update:function(a){var b=this._map;if(b){var e=b.getZoom();void 0===a&&(a=b.getCenter());if(void 0!==this._tileZoom){var b=this._getTiledPixelBounds(a),d=this._pxBoundsToTileRange(b),f=d.getCenter(),b=[],g=this.options.keepBuffer,g=new c.Bounds(d.getBottomLeft().subtract([g,-g]),d.getTopRight().add([g,-g])),h;for(h in this._tiles){var k=this._tiles[h].coords;k.z===this._tileZoom&&g.contains(c.point(k.x,k.y))||(this._tiles[h].current=!1)}if(1<Math.abs(e-
                this._tileZoom))this._setView(a,e);else{for(e=d.min.y;e<=d.max.y;e++)for(a=d.min.x;a<=d.max.x;a++)h=new c.Point(a,e),h.z=this._tileZoom,this._isValidTile(h)&&((g=this._tiles[this._tileCoordsToKey(h)])?g.current=!0:b.push(h));b.sort(function(a,b){return a.distanceTo(f)-b.distanceTo(f)});if(0!==b.length){this._loading||(this._loading=!0,this.fire("loading"));d=m.createDocumentFragment();for(a=0;a<b.length;a++)this._addTile(b[a],d);this._level.el.appendChild(d)}}}}},_isValidTile:function(a){var b=this._map.options.crs;
            if(!b.infinite){var e=this._globalTileRange;if(!b.wrapLng&&(a.x<e.min.x||a.x>e.max.x)||!b.wrapLat&&(a.y<e.min.y||a.y>e.max.y))return!1}if(!this.options.bounds)return!0;a=this._tileCoordsToBounds(a);return c.latLngBounds(this.options.bounds).overlaps(a)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToBounds:function(a){var b=this._map,e=this.getTileSize(),d=a.scaleBy(e),e=d.add(e),d=b.unproject(d,a.z);a=b.unproject(e,a.z);this.options.noWrap||(d=b.wrapLatLng(d),
            a=b.wrapLatLng(a));return new c.LatLngBounds(d,a)},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){a=a.split(":");var b=new c.Point(+a[0],+a[1]);b.z=+a[2];return b},_removeTile:function(a){var b=this._tiles[a];b&&(c.DomUtil.remove(b.el),delete this._tiles[a],this.fire("tileunload",{tile:b.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){c.DomUtil.addClass(a,"leaflet-tile");var b=this.getTileSize();a.style.width=b.x+"px";a.style.height=b.y+"px";a.onselectstart=
            c.Util.falseFn;a.onmousemove=c.Util.falseFn;c.Browser.ielt9&&1>this.options.opacity&&c.DomUtil.setOpacity(a,this.options.opacity);c.Browser.android&&!c.Browser.android23&&(a.style.WebkitBackfaceVisibility="hidden")},_addTile:function(a,b){var e=this._getTilePos(a),d=this._tileCoordsToKey(a),f=this.createTile(this._wrapCoords(a),c.bind(this._tileReady,this,a));this._initTile(f);2>this.createTile.length&&c.Util.requestAnimFrame(c.bind(this._tileReady,this,a,null,f));c.DomUtil.setPosition(f,e);this._tiles[d]=
        {el:f,coords:a,current:!0};b.appendChild(f);this.fire("tileloadstart",{tile:f,coords:a})},_tileReady:function(a,b,e){this._map&&(b&&this.fire("tileerror",{error:b,tile:e,coords:a}),e=this._tileCoordsToKey(a),e=this._tiles[e])&&(e.loaded=+new Date,this._map._fadeAnimated?(c.DomUtil.setOpacity(e.el,0),c.Util.cancelAnimFrame(this._fadeFrame),this._fadeFrame=c.Util.requestAnimFrame(this._updateOpacity,this)):(e.active=!0,this._pruneTiles()),b||(c.DomUtil.addClass(e.el,"leaflet-tile-loaded"),this.fire("tileload",
            {tile:e.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),c.Browser.ielt9||!this._map._fadeAnimated?c.Util.requestAnimFrame(this._pruneTiles,this):setTimeout(c.bind(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var b=new c.Point(this._wrapX?c.Util.wrapNum(a.x,this._wrapX):a.x,this._wrapY?c.Util.wrapNum(a.y,this._wrapY):a.y);b.z=a.z;return b},_pxBoundsToTileRange:function(a){var b=
            this.getTileSize();return new c.Bounds(a.min.unscaleBy(b).floor(),a.max.unscaleBy(b).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});c.gridLayer=function(a){return new c.GridLayer(a)};c.TileLayer=c.GridLayer.extend({options:{minZoom:0,maxZoom:18,maxNativeZoom:null,minNativeZoom:null,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(a,b){this._url=a;b=c.setOptions(this,
        b);b.detectRetina&&c.Browser.retina&&0<b.maxZoom&&(b.tileSize=Math.floor(b.tileSize/2),b.zoomReverse?(b.zoomOffset--,b.minZoom++):(b.zoomOffset++,b.maxZoom--),b.minZoom=Math.max(0,b.minZoom));"string"===typeof b.subdomains&&(b.subdomains=b.subdomains.split(""));if(!c.Browser.android)this.on("tileunload",this._onTileRemove)},setUrl:function(a,b){this._url=a;b||this.redraw();return this},createTile:function(a,b){var e=m.createElement("img");c.DomEvent.on(e,"load",c.bind(this._tileOnLoad,this,b,e));
        c.DomEvent.on(e,"error",c.bind(this._tileOnError,this,b,e));this.options.crossOrigin&&(e.crossOrigin="");e.alt="";e.setAttribute("role","presentation");e.src=this.getTileUrl(a);return e},getTileUrl:function(a){var b={r:c.Browser.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};this._map&&!this._map.options.crs.infinite&&(a=this._globalTileRange.max.y-a.y,this.options.tms&&(b.y=a),b["-y"]=a);return c.Util.template(this._url,c.extend(b,this.options))},_tileOnLoad:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               b){c.Browser.ielt9?setTimeout(c.bind(a,this,null,b),0):a(null,b)},_tileOnError:function(a,b,c){var d=this.options.errorTileUrl;d&&(b.src=d);a(c,b)},getTileSize:function(){var a=this._map,b=c.GridLayer.prototype.getTileSize.call(this),e=this._tileZoom+this.options.zoomOffset,d=this.options.minNativeZoom,f=this.options.maxNativeZoom;return null!==d&&e<d?b.divideBy(a.getZoomScale(d,e)).round():null!==f&&e>f?b.divideBy(a.getZoomScale(f,e)).round():b},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=
        this._tileZoom,b=this.options.maxZoom,c=this.options.zoomOffset,d=this.options.minNativeZoom,f=this.options.maxNativeZoom;this.options.zoomReverse&&(a=b-a);a+=c;return null!==d&&a<d?d:null!==f&&a>f?f:a},_getSubdomain:function(a){return this.options.subdomains[Math.abs(a.x+a.y)%this.options.subdomains.length]},_abortLoading:function(){var a,b;for(a in this._tiles)this._tiles[a].coords.z!==this._tileZoom&&(b=this._tiles[a].el,b.onload=c.Util.falseFn,b.onerror=c.Util.falseFn,b.complete||(b.src=c.Util.emptyImageUrl,
        c.DomUtil.remove(b)))}});c.tileLayer=function(a,b){return new c.TileLayer(a,b)};c.TileLayer.WMS=c.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,b){this._url=a;var e=c.extend({},this.defaultWmsParams),d;for(d in b)d in this.options||(e[d]=b[d]);b=c.setOptions(this,b);e.width=e.height=b.tileSize*(b.detectRetina&&c.Browser.retina?2:1);this.wmsParams=e},onAdd:function(a){this._crs=
        this.options.crs||a.options.crs;this._wmsVersion=parseFloat(this.wmsParams.version);this.wmsParams[1.3<=this._wmsVersion?"crs":"srs"]=this._crs.code;c.TileLayer.prototype.onAdd.call(this,a)},getTileUrl:function(a){var b=this._tileCoordsToBounds(a),e=this._crs.project(b.getNorthWest()),b=this._crs.project(b.getSouthEast()),e=(1.3<=this._wmsVersion&&this._crs===c.CRS.EPSG4326?[b.y,e.x,e.y,b.x]:[e.x,b.y,b.x,e.y]).join(",");a=c.TileLayer.prototype.getTileUrl.call(this,a);return a+c.Util.getParamString(this.wmsParams,
            a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+e},setParams:function(a,b){c.extend(this.wmsParams,a);b||this.redraw();return this}});c.tileLayer.wms=function(a,b){return new c.TileLayer.WMS(a,b)};c.ImageOverlay=c.Layer.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1},initialize:function(a,b,e){this._url=a;this._bounds=c.latLngBounds(b);c.setOptions(this,e)},onAdd:function(){this._image||(this._initImage(),1>this.options.opacity&&this._updateOpacity());this.options.interactive&&
    (c.DomUtil.addClass(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image));this.getPane().appendChild(this._image);this._reset()},onRemove:function(){c.DomUtil.remove(this._image);this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){this.options.opacity=a;this._image&&this._updateOpacity();return this},setStyle:function(a){a.opacity&&this.setOpacity(a.opacity);return this},bringToFront:function(){this._map&&c.DomUtil.toFront(this._image);
        return this},bringToBack:function(){this._map&&c.DomUtil.toBack(this._image);return this},setUrl:function(a){this._url=a;this._image&&(this._image.src=a);return this},setBounds:function(a){this._bounds=a;this._map&&this._reset();return this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};this._zoomAnimated&&(a.zoomanim=this._animateZoom);return a},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._image=c.DomUtil.create("img",
        "leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":""));a.onselectstart=c.Util.falseFn;a.onmousemove=c.Util.falseFn;a.onload=c.bind(this.fire,this,"load");this.options.crossOrigin&&(a.crossOrigin="");a.src=this._url;a.alt=this.options.alt},_animateZoom:function(a){var b=this._map.getZoomScale(a.zoom);a=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;c.DomUtil.setTransform(this._image,a,b)},_reset:function(){var a=this._image,b=new c.Bounds(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),
        this._map.latLngToLayerPoint(this._bounds.getSouthEast())),e=b.getSize();c.DomUtil.setPosition(a,b.min);a.style.width=e.x+"px";a.style.height=e.y+"px"},_updateOpacity:function(){c.DomUtil.setOpacity(this._image,this.options.opacity)}});c.imageOverlay=function(a,b,e){return new c.ImageOverlay(a,b,e)};c.Icon=c.Class.extend({initialize:function(a){c.setOptions(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      b){var c=this._getIconUrl(a);if(!c){if("icon"===a)throw Error("iconUrl not set in Icon options (see the docs).");return null}c=this._createImg(c,b&&"IMG"===b.tagName?b:null);this._setIconStyles(c,a);return c},_setIconStyles:function(a,b){var e=this.options,d=e[b+"Size"];"number"===typeof d&&(d=[d,d]);var d=c.point(d),f=c.point("shadow"===b&&e.shadowAnchor||e.iconAnchor||d&&d.divideBy(2,!0));a.className="leaflet-marker-"+b+" "+(e.className||"");f&&(a.style.marginLeft=-f.x+"px",a.style.marginTop=-f.y+
        "px");d&&(a.style.width=d.x+"px",a.style.height=d.y+"px")},_createImg:function(a,b){b=b||m.createElement("img");b.src=a;return b},_getIconUrl:function(a){return c.Browser.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});c.icon=function(a){return new c.Icon(a)};c.Icon.Default=c.Icon.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},
        _getIconUrl:function(a){c.Icon.Default.imagePath||(c.Icon.Default.imagePath=this._detectIconPath());return(this.options.imagePath||c.Icon.Default.imagePath)+c.Icon.prototype._getIconUrl.call(this,a)},_detectIconPath:function(){var a=c.DomUtil.create("div","leaflet-default-icon-path",m.body),b=c.DomUtil.getStyle(a,"background-image")||c.DomUtil.getStyle(a,"backgroundImage");m.body.removeChild(a);return 0===b.indexOf("url")?b.replace(/^url\([\"\']?/,"").replace(/marker-icon\.png[\"\']?\)$/,""):""}});
    c.Marker=c.Layer.extend({options:{icon:new c.Icon.Default,interactive:!0,draggable:!1,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",nonBubblingEvents:["click","dblclick","mouseover","mouseout","contextmenu"]},initialize:function(a,b){c.setOptions(this,b);this._latlng=c.latLng(a)},onAdd:function(a){if(this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation)a.on("zoomanim",this._animateZoom,this);this._initIcon();this.update()},onRemove:function(a){this.dragging&&
    this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks());this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this);this._removeIcon();this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var b=this._latlng;this._latlng=c.latLng(a);this.update();return this.fire("move",{oldLatLng:b,latlng:this._latlng})},setZIndexOffset:function(a){this.options.zIndexOffset=a;return this.update()},
        setIcon:function(a){this.options.icon=a;this._map&&(this._initIcon(),this.update());this._popup&&this.bindPopup(this._popup,this._popup.options);return this},getElement:function(){return this._icon},update:function(){if(this._icon){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,b="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),e=a.icon.createIcon(this._icon),d=!1;e!==this._icon&&(this._icon&&this._removeIcon(),d=
            !0,a.title&&(e.title=a.title),a.alt&&(e.alt=a.alt));c.DomUtil.addClass(e,b);a.keyboard&&(e.tabIndex="0");this._icon=e;if(a.riseOnHover)this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var e=a.icon.createShadow(this._shadow),f=!1;e!==this._shadow&&(this._removeShadow(),f=!0);e&&c.DomUtil.addClass(e,b);this._shadow=e;1>a.opacity&&this._updateOpacity();d&&this.getPane().appendChild(this._icon);this._initInteraction();e&&f&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&
        this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex});c.DomUtil.remove(this._icon);this.removeInteractiveTarget(this._icon);this._icon=null},_removeShadow:function(){this._shadow&&c.DomUtil.remove(this._shadow);this._shadow=null},_setPos:function(a){c.DomUtil.setPosition(this._icon,a);this._shadow&&c.DomUtil.setPosition(this._shadow,a);this._zIndex=a.y+this.options.zIndexOffset;this._resetZIndex()},_updateZIndex:function(a){this._icon.style.zIndex=this._zIndex+a},_animateZoom:function(a){a=
            this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(c.DomUtil.addClass(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),c.Handler.MarkerDrag)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable());this.dragging=new c.Handler.MarkerDrag(this);a&&this.dragging.enable()}},setOpacity:function(a){this.options.opacity=a;this._map&&this._updateOpacity();
            return this},_updateOpacity:function(){var a=this.options.opacity;c.DomUtil.setOpacity(this._icon,a);this._shadow&&c.DomUtil.setOpacity(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor||[0,0]},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor||[0,0]}});c.marker=function(a,b){return new c.Marker(a,b)};c.DivIcon=c.Icon.extend({options:{iconSize:[12,
        12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){a=a&&"DIV"===a.tagName?a:m.createElement("div");var b=this.options;a.innerHTML=!1!==b.html?b.html:"";b.bgPos&&(b=c.point(b.bgPos),a.style.backgroundPosition=-b.x+"px "+-b.y+"px");this._setIconStyles(a,"icon");return a},createShadow:function(){return null}});c.divIcon=function(a){return new c.DivIcon(a)};c.DivOverlay=c.Layer.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(a,b){c.setOptions(this,
        a);this._source=b},onAdd:function(a){this._zoomAnimated=a._zoomAnimated;this._container||this._initLayout();a._fadeAnimated&&c.DomUtil.setOpacity(this._container,0);clearTimeout(this._removeTimeout);this.getPane().appendChild(this._container);this.update();a._fadeAnimated&&c.DomUtil.setOpacity(this._container,1);this.bringToFront()},onRemove:function(a){a._fadeAnimated?(c.DomUtil.setOpacity(this._container,0),this._removeTimeout=setTimeout(c.bind(c.DomUtil.remove,c.DomUtil,this._container),200)):
        c.DomUtil.remove(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(a){this._latlng=c.latLng(a);this._map&&(this._updatePosition(),this._adjustPan());return this},getContent:function(){return this._content},setContent:function(a){this._content=a;this.update();return this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility=
        "",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};this._zoomAnimated&&(a.zoomanim=this._animateZoom);return a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){this._map&&c.DomUtil.toFront(this._container);return this},bringToBack:function(){this._map&&c.DomUtil.toBack(this._container);return this},_updateContent:function(){if(this._content){var a=this._contentNode,b="function"===typeof this._content?
        this._content(this._source||this):this._content;if("string"===typeof b)a.innerHTML=b;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(b)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),b=c.point(this.options.offset),e=this._getAnchor();this._zoomAnimated?c.DomUtil.setPosition(this._container,a.add(e)):b=b.add(a).add(e);a=this._containerBottom=-b.y;b=this._containerLeft=-Math.round(this._containerWidth/2)+
        b.x;this._container.style.bottom=a+"px";this._container.style.left=b+"px"}},_getAnchor:function(){return[0,0]}});c.Popup=c.DivOverlay.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,className:""},openOn:function(a){a.openPopup(this);return this},onAdd:function(a){c.DivOverlay.prototype.onAdd.call(this,a);a.fire("popupopen",{popup:this});if(this._source&&(this._source.fire("popupopen",
            {popup:this},!0),!(this._source instanceof c.Path)))this._source.on("preclick",c.DomEvent.stopPropagation)},onRemove:function(a){c.DivOverlay.prototype.onRemove.call(this,a);a.fire("popupclose",{popup:this});this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof c.Path||this._source.off("preclick",c.DomEvent.stopPropagation))},getEvents:function(){var a=c.DivOverlay.prototype.getEvents.call(this);if("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)a.preclick=
        this._close;this.options.keepInView&&(a.moveend=this._adjustPan);return a},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var a=this._container=c.DomUtil.create("div","leaflet-popup "+(this.options.className||"")+" leaflet-zoom-animated");if(this.options.closeButton){var b=this._closeButton=c.DomUtil.create("a","leaflet-popup-close-button",a);b.href="#close";b.innerHTML="&#215;";c.DomEvent.on(b,"click",this._onCloseButtonClick,this)}b=this._wrapper=c.DomUtil.create("div",
        "leaflet-popup-content-wrapper",a);this._contentNode=c.DomUtil.create("div","leaflet-popup-content",b);c.DomEvent.disableClickPropagation(b).disableScrollPropagation(this._contentNode).on(b,"contextmenu",c.DomEvent.stopPropagation);this._tipContainer=c.DomUtil.create("div","leaflet-popup-tip-container",a);this._tip=c.DomUtil.create("div","leaflet-popup-tip",this._tipContainer)},_updateLayout:function(){var a=this._contentNode,b=a.style;b.width="";b.whiteSpace="nowrap";var e=a.offsetWidth,e=Math.min(e,
        this.options.maxWidth),e=Math.max(e,this.options.minWidth);b.width=e+1+"px";b.whiteSpace="";b.height="";var e=a.offsetHeight,d=this.options.maxHeight;d&&e>d?(b.height=d+"px",c.DomUtil.addClass(a,"leaflet-popup-scrolled")):c.DomUtil.removeClass(a,"leaflet-popup-scrolled");this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){a=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);var b=this._getAnchor();c.DomUtil.setPosition(this._container,a.add(b))},_adjustPan:function(){if(!(!this.options.autoPan||
        this._map._panAnim&&this._map._panAnim._inProgress)){var a=this._map,b=parseInt(c.DomUtil.getStyle(this._container,"marginBottom"),10)||0,b=this._container.offsetHeight+b,e=this._containerWidth,d=new c.Point(this._containerLeft,-b-this._containerBottom);d._add(c.DomUtil.getPosition(this._container));var d=a.layerPointToContainerPoint(d),f=c.point(this.options.autoPanPadding),g=c.point(this.options.autoPanPaddingTopLeft||f),f=c.point(this.options.autoPanPaddingBottomRight||f),h=a.getSize(),k=0,l=0;
        d.x+e+f.x>h.x&&(k=d.x+e-h.x+f.x);0>d.x-k-g.x&&(k=d.x-g.x);d.y+b+f.y>h.y&&(l=d.y+b-h.y+f.y);0>d.y-l-g.y&&(l=d.y-g.y);(k||l)&&a.fire("autopanstart").panBy([k,l])}},_onCloseButtonClick:function(a){this._close();c.DomEvent.stop(a)},_getAnchor:function(){return c.point(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});c.popup=function(a,b){return new c.Popup(a,b)};c.Map.mergeOptions({closePopupOnClick:!0});c.Map.include({openPopup:function(a,b,e){a instanceof c.Popup||
    (a=(new c.Popup(e)).setContent(a));b&&a.setLatLng(b);if(this.hasLayer(a))return this;this._popup&&this._popup.options.autoClose&&this.closePopup();this._popup=a;return this.addLayer(a)},closePopup:function(a){a&&a!==this._popup||(a=this._popup,this._popup=null);a&&this.removeLayer(a);return this}});c.Layer.include({bindPopup:function(a,b){if(a instanceof c.Popup)c.setOptions(a,b),this._popup=a,a._source=this;else{if(!this._popup||b)this._popup=new c.Popup(b,this);this._popup.setContent(a)}this._popupHandlersAdded||
    (this.on({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0);return this},unbindPopup:function(){this._popup&&(this.off({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null);return this},openPopup:function(a,b){a instanceof c.Layer||(b=a,a=this);if(a instanceof c.FeatureGroup)for(var e in this._layers){a=this._layers[e];break}b||(b=a.getCenter?a.getCenter():a.getLatLng());this._popup&&this._map&&
    (this._popup._source=a,this._popup.update(),this._map.openPopup(this._popup,b));return this},closePopup:function(){this._popup&&this._popup._close();return this},togglePopup:function(a){this._popup&&(this._popup._map?this.closePopup():this.openPopup(a));return this},isPopupOpen:function(){return this._popup.isOpen()},setPopupContent:function(a){this._popup&&this._popup.setContent(a);return this},getPopup:function(){return this._popup},_openPopup:function(a){var b=a.layer||a.target;this._popup&&this._map&&
    (c.DomEvent.stop(a),b instanceof c.Path?this.openPopup(a.layer||a.target,a.latlng):this._map.hasLayer(this._popup)&&this._popup._source===b?this.closePopup():this.openPopup(b,a.latlng))},_movePopup:function(a){this._popup.setLatLng(a.latlng)}});c.Tooltip=c.DivOverlay.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(a){c.DivOverlay.prototype.onAdd.call(this,a);this.setOpacity(this.options.opacity);a.fire("tooltipopen",
        {tooltip:this});this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(a){c.DivOverlay.prototype.onRemove.call(this,a);a.fire("tooltipclose",{tooltip:this});this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var a=c.DivOverlay.prototype.getEvents.call(this);c.Browser.touch&&!this.options.permanent&&(a.preclick=this._close);return a},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){this._contentNode=
        this._container=c.DomUtil.create("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var b=this._map,e=this._container,d=b.latLngToContainerPoint(b.getCenter()),b=b.layerPointToContainerPoint(a),f=this.options.direction,g=e.offsetWidth,h=e.offsetHeight,k=c.point(this.options.offset),l=this._getAnchor();"top"===f?a=a.add(c.point(-g/2+k.x,-h+k.y+l.y,!0)):"bottom"===
    f?a=a.subtract(c.point(g/2-k.x,-k.y,!0)):"center"===f?a=a.subtract(c.point(g/2+k.x,h/2-l.y+k.y,!0)):"right"===f||"auto"===f&&b.x<d.x?(f="right",a=a.add(c.point(k.x+l.x,l.y-h/2+k.y,!0))):(f="left",a=a.subtract(c.point(g+l.x-k.x,h/2-l.y-k.y,!0)));c.DomUtil.removeClass(e,"leaflet-tooltip-right");c.DomUtil.removeClass(e,"leaflet-tooltip-left");c.DomUtil.removeClass(e,"leaflet-tooltip-top");c.DomUtil.removeClass(e,"leaflet-tooltip-bottom");c.DomUtil.addClass(e,"leaflet-tooltip-"+f);c.DomUtil.setPosition(e,
        a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a;this._container&&c.DomUtil.setOpacity(this._container,a)},_animateZoom:function(a){a=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(a)},_getAnchor:function(){return c.point(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});c.tooltip=function(a,b){return new c.Tooltip(a,
        b)};c.Map.include({openTooltip:function(a,b,e){a instanceof c.Tooltip||(a=(new c.Tooltip(e)).setContent(a));b&&a.setLatLng(b);return this.hasLayer(a)?this:this.addLayer(a)},closeTooltip:function(a){a&&this.removeLayer(a);return this}});c.Layer.include({bindTooltip:function(a,b){if(a instanceof c.Tooltip)c.setOptions(a,b),this._tooltip=a,a._source=this;else{if(!this._tooltip||b)this._tooltip=c.tooltip(b,this);this._tooltip.setContent(a)}this._initTooltipInteractions();this._tooltip.options.permanent&&
    this._map&&this._map.hasLayer(this)&&this.openTooltip();return this},unbindTooltip:function(){this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null);return this},_initTooltipInteractions:function(a){if(a||!this._tooltipHandlersAdded){var b={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?b.add=this._openTooltip:(b.mouseover=this._openTooltip,b.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(b.mousemove=this._moveTooltip),
    c.Browser.touch&&(b.click=this._openTooltip));this[a?"off":"on"](b);this._tooltipHandlersAdded=!a}},openTooltip:function(a,b){a instanceof c.Layer||(b=a,a=this);if(a instanceof c.FeatureGroup)for(var e in this._layers){a=this._layers[e];break}b||(b=a.getCenter?a.getCenter():a.getLatLng());this._tooltip&&this._map&&(this._tooltip._source=a,this._tooltip.update(),this._map.openTooltip(this._tooltip,b),this._tooltip.options.interactive&&this._tooltip._container&&(c.DomUtil.addClass(this._tooltip._container,
        "leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container)));return this},closeTooltip:function(){this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(c.DomUtil.removeClass(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container)));return this},toggleTooltip:function(a){this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(a));return this},isTooltipOpen:function(){return this._tooltip.isOpen()},
        setTooltipContent:function(a){this._tooltip&&this._tooltip.setContent(a);return this},getTooltip:function(){return this._tooltip},_openTooltip:function(a){var b=a.layer||a.target;this._tooltip&&this._map&&this.openTooltip(b,this._tooltip.options.sticky?a.latlng:void 0)},_moveTooltip:function(a){var b=a.latlng;this._tooltip.options.sticky&&a.originalEvent&&(a=this._map.mouseEventToContainerPoint(a.originalEvent),a=this._map.containerPointToLayerPoint(a),b=this._map.layerPointToLatLng(a));this._tooltip.setLatLng(b)}});
    c.LayerGroup=c.Layer.extend({initialize:function(a){this._layers={};var b,c;if(a)for(b=0,c=a.length;b<c;b++)this.addLayer(a[b])},addLayer:function(a){var b=this.getLayerId(a);this._layers[b]=a;this._map&&this._map.addLayer(a);return this},removeLayer:function(a){a=a in this._layers?a:this.getLayerId(a);this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]);delete this._layers[a];return this},hasLayer:function(a){return!!a&&(a in this._layers||this.getLayerId(a)in this._layers)},clearLayers:function(){for(var a in this._layers)this.removeLayer(this._layers[a]);
        return this},invoke:function(a){var b=Array.prototype.slice.call(arguments,1),c,d;for(c in this._layers)d=this._layers[c],d[a]&&d[a].apply(d,b);return this},onAdd:function(a){for(var b in this._layers)a.addLayer(this._layers[b])},onRemove:function(a){for(var b in this._layers)a.removeLayer(this._layers[b])},eachLayer:function(a,b){for(var c in this._layers)a.call(b,this._layers[c]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[],b;for(b in this._layers)a.push(this._layers[b]);
        return a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return c.stamp(a)}});c.layerGroup=function(a){return new c.LayerGroup(a)};c.FeatureGroup=c.LayerGroup.extend({addLayer:function(a){if(this.hasLayer(a))return this;a.addEventParent(this);c.LayerGroup.prototype.addLayer.call(this,a);return this.fire("layeradd",{layer:a})},removeLayer:function(a){if(!this.hasLayer(a))return this;a in this._layers&&(a=this._layers[a]);a.removeEventParent(this);c.LayerGroup.prototype.removeLayer.call(this,
        a);return this.fire("layerremove",{layer:a})},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new c.LatLngBounds,b;for(b in this._layers){var e=this._layers[b];a.extend(e.getBounds?e.getBounds():e.getLatLng())}return a}});c.featureGroup=function(a){return new c.FeatureGroup(a)};c.Renderer=c.Layer.extend({options:{padding:.1},initialize:function(a){c.setOptions(this,
        a);c.stamp(this);this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&c.DomUtil.addClass(this._container,"leaflet-zoom-animated"));this.getPane().appendChild(this._container);this._update();this.on("update",this._updatePaths,this)},onRemove:function(){c.DomUtil.remove(this._container);this.off("update",this._updatePaths,this)},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};this._zoomAnimated&&
    (a.zoomanim=this._onAnimZoom);return a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,b){var e=this._map.getZoomScale(b,this._zoom),d=c.DomUtil.getPosition(this._container),f=this._map.getSize().multiplyBy(.5+this.options.padding),g=this._map.project(this._center,b),g=this._map.project(a,b).subtract(g),d=f.multiplyBy(-e).add(d).add(f).subtract(g);c.Browser.any3d?c.DomUtil.setTransform(this._container,
        d,e):c.DomUtil.setPosition(this._container,d)},_reset:function(){this._update();this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,b=this._map.getSize(),e=this._map.containerPointToLayerPoint(b.multiplyBy(-a)).round();this._bounds=new c.Bounds(e,e.add(b.multiplyBy(1+
        2*a)).round());this._center=this._map.getCenter();this._zoom=this._map.getZoom()}});c.Map.include({getRenderer:function(a){a=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;a||(a=this._renderer=this.options.preferCanvas&&c.canvas()||c.svg());this.hasLayer(a)||this.addLayer(a);return a},_getPaneRenderer:function(a){if("overlayPane"===a||void 0===a)return!1;var b=this._paneRenderers[a];void 0===b&&(b=c.SVG&&c.svg({pane:a})||c.Canvas&&c.canvas({pane:a}),
        this._paneRenderers[a]=b);return b}});c.Path=c.Layer.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this);this._reset();this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){this._map&&this._renderer._updatePath(this);
        return this},setStyle:function(a){c.setOptions(this,a);this._renderer&&this._renderer._updateStyle(this);return this},bringToFront:function(){this._renderer&&this._renderer._bringToFront(this);return this},bringToBack:function(){this._renderer&&this._renderer._bringToBack(this);return this},getElement:function(){return this._path},_reset:function(){this._project();this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(c.Browser.touch?10:0)}});c.LineUtil={simplify:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              b){if(!b||!a.length)return a.slice();var c=b*b;a=this._reducePoints(a,c);return a=this._simplifyDP(a,c)},pointToSegmentDistance:function(a,b,c){return Math.sqrt(this._sqClosestPointOnSegment(a,b,c,!0))},closestPointOnSegment:function(a,b,c){return this._sqClosestPointOnSegment(a,b,c)},_simplifyDP:function(a,b){var c=a.length,d=new ("undefined"!==typeof Uint8Array?Uint8Array:Array)(c);d[0]=d[c-1]=1;this._simplifyDPStep(a,d,b,0,c-1);var f,g=[];for(f=0;f<c;f++)d[f]&&g.push(a[f]);return g},_simplifyDPStep:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  b,c,d,f){var g=0,h,k,l;for(k=d+1;k<=f-1;k++)l=this._sqClosestPointOnSegment(a[k],a[d],a[f],!0),l>g&&(h=k,g=l);g>c&&(b[h]=1,this._simplifyDPStep(a,b,c,d,h),this._simplifyDPStep(a,b,c,h,f))},_reducePoints:function(a,b){for(var c=[a[0]],d=1,f=0,g=a.length;d<g;d++)this._sqDist(a[d],a[f])>b&&(c.push(a[d]),f=d);f<g-1&&c.push(a[g-1]);return c},clipSegment:function(a,b,c,d,f){d=d?this._lastCode:this._getBitCode(a,c);var g=this._getBitCode(b,c),h,k,l;for(this._lastCode=g;;){if(!(d|g))return[a,b];if(d&g)return!1;
        h=d||g;k=this._getEdgeIntersection(a,b,h,c,f);l=this._getBitCode(k,c);h===d?(a=k,d=l):(b=k,g=l)}},_getEdgeIntersection:function(a,b,e,d,f){var g=b.x-a.x;b=b.y-a.y;var h=d.min;d=d.max;var k,l;e&8?(k=a.x+g*(d.y-a.y)/b,l=d.y):e&4?(k=a.x+g*(h.y-a.y)/b,l=h.y):e&2?(k=d.x,l=a.y+b*(d.x-a.x)/g):e&1&&(k=h.x,l=a.y+b*(h.x-a.x)/g);return new c.Point(k,l,f)},_getBitCode:function(a,b){var c=0;a.x<b.min.x?c|=1:a.x>b.max.x&&(c|=2);a.y<b.min.y?c|=4:a.y>b.max.y&&(c|=8);return c},_sqDist:function(a,b){var c=b.x-a.x,
        d=b.y-a.y;return c*c+d*d},_sqClosestPointOnSegment:function(a,b,e,d){var f=b.x;b=b.y;var g=e.x-f,h=e.y-b,k=g*g+h*h;0<k&&(k=((a.x-f)*g+(a.y-b)*h)/k,1<k?(f=e.x,b=e.y):0<k&&(f+=g*k,b+=h*k));g=a.x-f;h=a.y-b;return d?g*g+h*h:new c.Point(f,b)}};c.Polyline=c.Path.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,b){c.setOptions(this,b);this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){this._setLatLngs(a);return this.redraw()},isEmpty:function(){return!this._latlngs.length},
        closestLayerPoint:function(a){for(var b=Infinity,e=null,d=c.LineUtil._sqClosestPointOnSegment,f,g,h=0,k=this._parts.length;h<k;h++)for(var l=this._parts[h],m=1,n=l.length;m<n;m++){f=l[m-1];g=l[m];var p=d(a,f,g,!0);p<b&&(b=p,e=d(a,f,g))}e&&(e.distance=Math.sqrt(b));return e},getCenter:function(){if(!this._map)throw Error("Must add layer to map before using getCenter()");var a,b,c,d,f,g,h=this._rings[0],k=h.length;if(!k)return null;for(b=a=0;a<k-1;a++)b+=h[a].distanceTo(h[a+1])/2;if(0===b)return this._map.layerPointToLatLng(h[0]);
            for(d=a=0;a<k-1;a++)if(f=h[a],g=h[a+1],c=f.distanceTo(g),d+=c,d>b)return a=(d-b)/c,this._map.layerPointToLatLng([g.x-a*(g.x-f.x),g.y-a*(g.y-f.y)])},getBounds:function(){return this._bounds},addLatLng:function(a,b){b=b||this._defaultShape();a=c.latLng(a);b.push(a);this._bounds.extend(a);return this.redraw()},_setLatLngs:function(a){this._bounds=new c.LatLngBounds;this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return c.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var b=
            [],e=c.Polyline._flat(a),d=0,f=a.length;d<f;d++)e?(b[d]=c.latLng(a[d]),this._bounds.extend(b[d])):b[d]=this._convertLatLngs(a[d]);return b},_project:function(){var a=new c.Bounds;this._rings=[];this._projectLatlngs(this._latlngs,this._rings,a);var b=this._clickTolerance(),b=new c.Point(b,b);this._bounds.isValid()&&a.isValid()&&(a.min._subtract(b),a.max._add(b),this._pxBounds=a)},_projectLatlngs:function(a,b,e){var d=a.length,f,g;if(a[0]instanceof c.LatLng){g=[];for(f=0;f<d;f++)g[f]=this._map.latLngToLayerPoint(a[f]),
            e.extend(g[f]);b.push(g)}else for(f=0;f<d;f++)this._projectLatlngs(a[f],b,e)},_clipPoints:function(){var a=this._renderer._bounds;this._parts=[];if(this._pxBounds&&this._pxBounds.intersects(a))if(this.options.noClip)this._parts=this._rings;else{var b=this._parts,e,d,f,g,h,k,l;f=e=0;for(g=this._rings.length;e<g;e++)for(l=this._rings[e],d=0,h=l.length;d<h-1;d++)if(k=c.LineUtil.clipSegment(l[d],l[d+1],a,d,!0))if(b[f]=b[f]||[],b[f].push(k[0]),k[1]!==l[d+1]||d===h-2)b[f].push(k[1]),f++}},_simplifyPoints:function(){for(var a=
            this._parts,b=this.options.smoothFactor,e=0,d=a.length;e<d;e++)a[e]=c.LineUtil.simplify(a[e],b)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)}});c.polyline=function(a,b){return new c.Polyline(a,b)};c.Polyline._flat=function(a){return!c.Util.isArray(a[0])||"object"!==typeof a[0][0]&&"undefined"!==typeof a[0][0]};c.PolyUtil={};c.PolyUtil.clipPolygon=function(a,b,e){var d,f=[1,4,2,8],g,h,k,l,m,n,
        p=c.LineUtil;g=0;for(m=a.length;g<m;g++)a[g]._code=p._getBitCode(a[g],b);for(k=0;4>k;k++){n=f[k];d=[];g=0;m=a.length;for(h=m-1;g<m;h=g++)(l=a[g],h=a[h],l._code&n)?h._code&n||(h=p._getEdgeIntersection(h,l,n,b,e),h._code=p._getBitCode(h,b),d.push(h)):(h._code&n&&(h=p._getEdgeIntersection(h,l,n,b,e),h._code=p._getBitCode(h,b),d.push(h)),d.push(l));a=d}return a};c.Polygon=c.Polyline.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw Error("Must add layer to map before using getCenter()");
        var a,b,c,d,f,g,h,k=this._rings[0],l=k.length;if(!l)return null;a=f=g=h=0;for(b=l-1;a<l;b=a++)c=k[a],b=k[b],d=c.y*b.x-b.y*c.x,g+=(c.x+b.x)*d,h+=(c.y+b.y)*d,f+=3*d;return this._map.layerPointToLatLng(0===f?k[0]:[g/f,h/f])},_convertLatLngs:function(a){a=c.Polyline.prototype._convertLatLngs.call(this,a);var b=a.length;2<=b&&a[0]instanceof c.LatLng&&a[0].equals(a[b-1])&&a.pop();return a},_setLatLngs:function(a){c.Polyline.prototype._setLatLngs.call(this,a);c.Polyline._flat(this._latlngs)&&(this._latlngs=
        [this._latlngs])},_defaultShape:function(){return c.Polyline._flat(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,b=this.options.weight,b=new c.Point(b,b),a=new c.Bounds(a.min.subtract(b),a.max.add(b));this._parts=[];if(this._pxBounds&&this._pxBounds.intersects(a))if(this.options.noClip)this._parts=this._rings;else for(var b=0,e=this._rings.length,d;b<e;b++)d=c.PolyUtil.clipPolygon(this._rings[b],a,!0),d.length&&this._parts.push(d)},_updatePath:function(){this._renderer._updatePoly(this,
        !0)}});c.polygon=function(a,b){return new c.Polygon(a,b)};c.Rectangle=c.Polygon.extend({initialize:function(a,b){c.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(a),b)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){a=c.latLngBounds(a);return[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});c.rectangle=function(a,b){return new c.Rectangle(a,b)};c.CircleMarker=c.Path.extend({options:{fill:!0,radius:10},initialize:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            b){c.setOptions(this,b);this._latlng=c.latLng(a);this._radius=this.options.radius},setLatLng:function(a){this._latlng=c.latLng(a);this.redraw();return this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){this.options.radius=this._radius=a;return this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var b=a&&a.radius||this._radius;c.Path.prototype.setStyle.call(this,a);this.setRadius(b);return this},_project:function(){this._point=
        this._map.latLngToLayerPoint(this._latlng);this._updateBounds()},_updateBounds:function(){var a=this._radius,b=this._radiusY||a,e=this._clickTolerance(),a=[a+e,b+e];this._pxBounds=new c.Bounds(this._point.subtract(a),this._point.add(a))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)}});c.circleMarker=function(a,b){return new c.CircleMarker(a,b)};
    c.Circle=c.CircleMarker.extend({initialize:function(a,b,e){"number"===typeof b&&(b=c.extend({},e,{radius:b}));c.setOptions(this,b);this._latlng=c.latLng(a);if(isNaN(this.options.radius))throw Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){this._mRadius=a;return this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new c.LatLngBounds(this._map.layerPointToLatLng(this._point.subtract(a)),
        this._map.layerPointToLatLng(this._point.add(a)))},setStyle:c.Path.prototype.setStyle,_project:function(){var a=this._latlng.lng,b=this._latlng.lat,e=this._map,d=e.options.crs;if(d.distance===c.CRS.Earth.distance){var f=Math.PI/180,d=this._mRadius/c.CRS.Earth.R/f,g=e.project([b+d,a]),h=e.project([b-d,a]),h=g.add(h).divideBy(2),k=e.unproject(h).lat,f=Math.acos((Math.cos(d*f)-Math.sin(b*f)*Math.sin(k*f))/(Math.cos(b*f)*Math.cos(k*f)))/f;if(isNaN(f)||0===f)f=d/Math.cos(Math.PI/180*b);this._point=h.subtract(e.getPixelOrigin());
        this._radius=isNaN(f)?0:Math.max(Math.round(h.x-e.project([k,a-f]).x),1);this._radiusY=Math.max(Math.round(h.y-g.y),1)}else a=d.unproject(d.project(this._latlng).subtract([this._mRadius,0])),this._point=e.latLngToLayerPoint(this._latlng),this._radius=this._point.x-e.latLngToLayerPoint(a).x;this._updateBounds()}});c.circle=function(a,b,e){return new c.Circle(a,b,e)};c.SVG=c.Renderer.extend({getEvents:function(){var a=c.Renderer.prototype.getEvents.call(this);a.zoomstart=this._onZoomStart;return a},
        _initContainer:function(){this._container=c.SVG.create("svg");this._container.setAttribute("pointer-events","none");this._rootGroup=c.SVG.create("g");this._container.appendChild(this._rootGroup)},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){c.Renderer.prototype._update.call(this);var a=this._bounds,b=a.getSize(),e=this._container;this._svgSize&&this._svgSize.equals(b)||(this._svgSize=b,e.setAttribute("width",b.x),e.setAttribute("height",b.y));
            c.DomUtil.setPosition(e,a.min);e.setAttribute("viewBox",[a.min.x,a.min.y,b.x,b.y].join(" "));this.fire("update")}},_initPath:function(a){var b=a._path=c.SVG.create("path");a.options.className&&c.DomUtil.addClass(b,a.options.className);a.options.interactive&&c.DomUtil.addClass(b,"leaflet-interactive");this._updateStyle(a);this._layers[c.stamp(a)]=a},_addPath:function(a){this._rootGroup.appendChild(a._path);a.addInteractiveTarget(a._path)},_removePath:function(a){c.DomUtil.remove(a._path);a.removeInteractiveTarget(a._path);
            delete this._layers[c.stamp(a)]},_updatePath:function(a){a._project();a._update()},_updateStyle:function(a){var b=a._path;a=a.options;b&&(a.stroke?(b.setAttribute("stroke",a.color),b.setAttribute("stroke-opacity",a.opacity),b.setAttribute("stroke-width",a.weight),b.setAttribute("stroke-linecap",a.lineCap),b.setAttribute("stroke-linejoin",a.lineJoin),a.dashArray?b.setAttribute("stroke-dasharray",a.dashArray):b.removeAttribute("stroke-dasharray"),a.dashOffset?b.setAttribute("stroke-dashoffset",a.dashOffset):
            b.removeAttribute("stroke-dashoffset")):b.setAttribute("stroke","none"),a.fill?(b.setAttribute("fill",a.fillColor||a.color),b.setAttribute("fill-opacity",a.fillOpacity),b.setAttribute("fill-rule",a.fillRule||"evenodd")):b.setAttribute("fill","none"))},_updatePoly:function(a,b){this._setPath(a,c.SVG.pointsToPath(a._parts,b))},_updateCircle:function(a){var b=a._point,c=a._radius,d="a"+c+","+(a._radiusY||c)+" 0 1,0 ",b=a._empty()?"M0 0":"M"+(b.x-c)+","+b.y+d+2*c+",0 "+d+2*-c+",0 ";this._setPath(a,b)},
        _setPath:function(a,b){a._path.setAttribute("d",b)},_bringToFront:function(a){c.DomUtil.toFront(a._path)},_bringToBack:function(a){c.DomUtil.toBack(a._path)}});c.extend(c.SVG,{create:function(a){return m.createElementNS("http://www.w3.org/2000/svg",a)},pointsToPath:function(a,b){var e="",d,f,g,h,k,l;d=0;for(g=a.length;d<g;d++){k=a[d];f=0;for(h=k.length;f<h;f++)l=k[f],e+=(f?"L":"M")+l.x+" "+l.y;e+=b?c.Browser.svg?"z":"x":""}return e||"M0 0"}});c.Browser.svg=!(!m.createElementNS||!c.SVG.create("svg").createSVGRect);
    c.svg=function(a){return c.Browser.svg||c.Browser.vml?new c.SVG(a):null};c.Browser.vml=!c.Browser.svg&&function(){try{var a=m.createElement("div");a.innerHTML='<v:shape adj="1"/>';var b=a.firstChild;b.style.behavior="url(#default#VML)";return b&&"object"===typeof b.adj}catch(c){return!1}}();c.SVG.include(c.Browser.vml?{_initContainer:function(){this._container=c.DomUtil.create("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(c.Renderer.prototype._update.call(this),this.fire("update"))},
        _initPath:function(a){var b=a._container=c.SVG.create("shape");c.DomUtil.addClass(b,"leaflet-vml-shape "+(this.options.className||""));b.coordsize="1 1";a._path=c.SVG.create("path");b.appendChild(a._path);this._updateStyle(a)},_addPath:function(a){var b=a._container;this._container.appendChild(b);a.options.interactive&&a.addInteractiveTarget(b)},_removePath:function(a){var b=a._container;c.DomUtil.remove(b);a.removeInteractiveTarget(b)},_updateStyle:function(a){var b=a._stroke,e=a._fill,d=a.options,
            f=a._container;f.stroked=!!d.stroke;f.filled=!!d.fill;d.stroke?(b||(b=a._stroke=c.SVG.create("stroke")),f.appendChild(b),b.weight=d.weight+"px",b.color=d.color,b.opacity=d.opacity,b.dashStyle=d.dashArray?c.Util.isArray(d.dashArray)?d.dashArray.join(" "):d.dashArray.replace(/( *, *)/g," "):"",b.endcap=d.lineCap.replace("butt","flat"),b.joinstyle=d.lineJoin):b&&(f.removeChild(b),a._stroke=null);d.fill?(e||(e=a._fill=c.SVG.create("fill")),f.appendChild(e),e.color=d.fillColor||d.color,e.opacity=d.fillOpacity):
        e&&(f.removeChild(e),a._fill=null)},_updateCircle:function(a){var b=a._point.round(),c=Math.round(a._radius),d=Math.round(a._radiusY||c);this._setPath(a,a._empty()?"M0 0":"AL "+b.x+","+b.y+" "+c+","+d+" 0,23592600")},_setPath:function(a,b){a._path.v=b},_bringToFront:function(a){c.DomUtil.toFront(a._container)},_bringToBack:function(a){c.DomUtil.toBack(a._container)}}:{});c.Browser.vml&&(c.SVG.create=function(){try{return m.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return m.createElement("<lvml:"+
        a+' class="lvml">')}}catch(a){return function(a){return m.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}());c.Canvas=c.Renderer.extend({onAdd:function(){c.Renderer.prototype.onAdd.call(this);this._draw()},_initContainer:function(){var a=this._container=m.createElement("canvas");c.DomEvent.on(a,"mousemove",c.Util.throttle(this._onMouseMove,32,this),this).on(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this).on(a,"mouseout",this._handleMouseOut,this);
        this._ctx=a.getContext("2d")},_updatePaths:function(){var a;this._redrawBounds=null;for(var b in this._layers)a=this._layers[b],a._update();this._redraw()},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={};c.Renderer.prototype._update.call(this);var a=this._bounds,b=this._container,e=a.getSize(),d=c.Browser.retina?2:1;c.DomUtil.setPosition(b,a.min);b.width=d*e.x;b.height=d*e.y;b.style.width=e.x+"px";b.style.height=e.y+"px";c.Browser.retina&&this._ctx.scale(2,2);
        this._ctx.translate(-a.min.x,-a.min.y);this.fire("update")}},_initPath:function(a){this._updateDashArray(a);this._layers[c.stamp(a)]=a;a=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a);this._drawLast=a;this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var b=a._order,e=b.next,b=b.prev;e?e.prev=b:this._drawLast=b;b?b.next=e:this._drawFirst=e;delete a._order;delete this._layers[c.stamp(a)];this._requestRedraw(a)},
        _updatePath:function(a){this._extendRedrawBounds(a);a._project();a._update();this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a);this._requestRedraw(a)},_updateDashArray:function(a){if(a.options.dashArray){var b=a.options.dashArray.split(","),c=[],d;for(d=0;d<b.length;d++)c.push(Number(b[d]));a.options._dashArray=c}},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||c.Util.requestAnimFrame(this._redraw,this))},_extendRedrawBounds:function(a){var b=
            (a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new c.Bounds;this._redrawBounds.extend(a._pxBounds.min.subtract([b,b]));this._redrawBounds.extend(a._pxBounds.max.add([b,b]))},_redraw:function(){this._redrawRequest=null;this._clear();this._draw();this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var b=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,b.x,b.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var a,b=this._redrawBounds;
            this._ctx.save();b&&(a=b.getSize(),this._ctx.beginPath(),this._ctx.rect(b.min.x,b.min.y,a.x,a.y),this._ctx.clip());this._drawing=!0;for(var c=this._drawFirst;c;c=c.next)a=c.layer,(!b||a._pxBounds&&a._pxBounds.intersects(b))&&a._updatePath();this._drawing=!1;this._ctx.restore()},_updatePoly:function(a,b){if(this._drawing){var c,d,f,g,h=a._parts,k=h.length,l=this._ctx;if(k){this._drawnLayers[a._leaflet_id]=a;l.beginPath();l.setLineDash&&l.setLineDash(a.options&&a.options._dashArray||[]);for(c=0;c<k;c++){d=
            0;for(f=h[c].length;d<f;d++)g=h[c][d],l[d?"lineTo":"moveTo"](g.x,g.y);b&&l.closePath()}this._fillStroke(l,a)}}},_updateCircle:function(a){if(this._drawing&&!a._empty()){var b=a._point,c=this._ctx,d=a._radius,f=(a._radiusY||d)/d;this._drawnLayers[a._leaflet_id]=a;1!==f&&(c.save(),c.scale(1,f));c.beginPath();c.arc(b.x,b.y/f,d,0,2*Math.PI,!1);1!==f&&c.restore();this._fillStroke(c,a)}},_fillStroke:function(a,b){var c=b.options;c.fill&&(a.globalAlpha=c.fillOpacity,a.fillStyle=c.fillColor||c.color,a.fill(c.fillRule||
            "evenodd"));c.stroke&&0!==c.weight&&(a.globalAlpha=c.opacity,a.lineWidth=c.weight,a.strokeStyle=c.color,a.lineCap=c.lineCap,a.lineJoin=c.lineJoin,a.stroke())},_onClick:function(a){for(var b=this._map.mouseEventToLayerPoint(a),e,d,f=this._drawFirst;f;f=f.next)e=f.layer,e.options.interactive&&e._containsPoint(b)&&!this._map._draggableMoved(e)&&(d=e);d&&(c.DomEvent._fakeStop(a),this._fireEvent([d],a))},_onMouseMove:function(a){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var b=
            this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,b)}},_handleMouseOut:function(a){var b=this._hoveredLayer;b&&(c.DomUtil.removeClass(this._container,"leaflet-interactive"),this._fireEvent([b],a,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(a,b){for(var e,d,f=this._drawFirst;f;f=f.next)e=f.layer,e.options.interactive&&e._containsPoint(b)&&(d=e);d!==this._hoveredLayer&&(this._handleMouseOut(a),d&&(c.DomUtil.addClass(this._container,"leaflet-interactive"),this._fireEvent([d],
            a,"mouseover"),this._hoveredLayer=d));this._hoveredLayer&&this._fireEvent([this._hoveredLayer],a)},_fireEvent:function(a,b,c){this._map._fireDOMEvent(b,c||b.type,a)},_bringToFront:function(a){var b=a._order,c=b.next,d=b.prev;c&&((c.prev=d)?d.next=c:c&&(this._drawFirst=c),b.prev=this._drawLast,this._drawLast.next=b,b.next=null,this._drawLast=b,this._requestRedraw(a))},_bringToBack:function(a){var b=a._order,c=b.next,d=b.prev;d&&((d.next=c)?c.prev=d:d&&(this._drawLast=d),b.prev=null,b.next=this._drawFirst,
            this._drawFirst=this._drawFirst.prev=b,this._requestRedraw(a))}});c.Browser.canvas=!!m.createElement("canvas").getContext;c.canvas=function(a){return c.Browser.canvas?new c.Canvas(a):null};c.Polyline.prototype._containsPoint=function(a,b){var e,d,f,g,h,k,l=this._clickTolerance();if(!this._pxBounds.contains(a))return!1;e=0;for(g=this._parts.length;e<g;e++)for(k=this._parts[e],d=0,h=k.length,f=h-1;d<h;f=d++)if((b||0!==d)&&c.LineUtil.pointToSegmentDistance(a,k[f],k[d])<=l)return!0;return!1};c.Polygon.prototype._containsPoint=
        function(a){var b=!1,e,d,f,g,h,k,l;if(!this._pxBounds.contains(a))return!1;g=0;for(k=this._parts.length;g<k;g++)for(e=this._parts[g],h=0,l=e.length,f=l-1;h<l;f=h++)d=e[h],f=e[f],d.y>a.y!==f.y>a.y&&a.x<(f.x-d.x)*(a.y-d.y)/(f.y-d.y)+d.x&&(b=!b);return b||c.Polyline.prototype._containsPoint.call(this,a,!0)};c.CircleMarker.prototype._containsPoint=function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()};c.GeoJSON=c.FeatureGroup.extend({initialize:function(a,b){c.setOptions(this,
        b);this._layers={};a&&this.addData(a)},addData:function(a){var b=c.Util.isArray(a)?a:a.features,e,d;if(b){a=0;for(e=b.length;a<e;a++)d=b[a],(d.geometries||d.geometry||d.features||d.coordinates)&&this.addData(d);return this}b=this.options;if(b.filter&&!b.filter(a))return this;e=c.GeoJSON.geometryToLayer(a,b);if(!e)return this;e.feature=c.GeoJSON.asFeature(a);e.defaultOptions=e.options;this.resetStyle(e);if(b.onEachFeature)b.onEachFeature(a,e);return this.addLayer(e)},resetStyle:function(a){a.options=
        c.Util.extend({},a.defaultOptions);this._setLayerStyle(a,this.options.style);return this},setStyle:function(a){return this.eachLayer(function(b){this._setLayerStyle(b,a)},this)},_setLayerStyle:function(a,b){"function"===typeof b&&(b=b(a.feature));a.setStyle&&a.setStyle(b)}});c.extend(c.GeoJSON,{geometryToLayer:function(a,b){var e="Feature"===a.type?a.geometry:a,d=e?e.coordinates:null,f=[],g=b&&b.pointToLayer,h=b&&b.coordsToLatLng||this.coordsToLatLng,k,l;if(!d&&!e)return null;switch(e.type){case "Point":return e=
        h(d),g?g(a,e):new c.Marker(e);case "MultiPoint":k=0;for(l=d.length;k<l;k++)e=h(d[k]),f.push(g?g(a,e):new c.Marker(e));return new c.FeatureGroup(f);case "LineString":case "MultiLineString":return f=this.coordsToLatLngs(d,"LineString"===e.type?0:1,h),new c.Polyline(f,b);case "Polygon":case "MultiPolygon":return f=this.coordsToLatLngs(d,"Polygon"===e.type?1:2,h),new c.Polygon(f,b);case "GeometryCollection":k=0;for(l=e.geometries.length;k<l;k++)(d=this.geometryToLayer({geometry:e.geometries[k],type:"Feature",
        properties:a.properties},b))&&f.push(d);return new c.FeatureGroup(f);default:throw Error("Invalid GeoJSON object.");}},coordsToLatLng:function(a){return new c.LatLng(a[1],a[0],a[2])},coordsToLatLngs:function(a,b,c){for(var d=[],f=0,g=a.length,h;f<g;f++)h=b?this.coordsToLatLngs(a[f],b-1,c):(c||this.coordsToLatLng)(a[f]),d.push(h);return d},latLngToCoords:function(a){return void 0!==a.alt?[a.lng,a.lat,a.alt]:[a.lng,a.lat]},latLngsToCoords:function(a,b,e){for(var d=[],f=0,g=a.length;f<g;f++)d.push(b?
        c.GeoJSON.latLngsToCoords(a[f],b-1,e):c.GeoJSON.latLngToCoords(a[f]));!b&&e&&d.push(d[0]);return d},getFeature:function(a,b){return a.feature?c.extend({},a.feature,{geometry:b}):c.GeoJSON.asFeature(b)},asFeature:function(a){return"Feature"===a.type||"FeatureCollection"===a.type?a:{type:"Feature",properties:{},geometry:a}}});t={toGeoJSON:function(){return c.GeoJSON.getFeature(this,{type:"Point",coordinates:c.GeoJSON.latLngToCoords(this.getLatLng())})}};c.Marker.include(t);c.Circle.include(t);c.CircleMarker.include(t);
    c.Polyline.prototype.toGeoJSON=function(){var a=!c.Polyline._flat(this._latlngs),b=c.GeoJSON.latLngsToCoords(this._latlngs,a?1:0);return c.GeoJSON.getFeature(this,{type:(a?"Multi":"")+"LineString",coordinates:b})};c.Polygon.prototype.toGeoJSON=function(){var a=!c.Polyline._flat(this._latlngs),b=a&&!c.Polyline._flat(this._latlngs[0]),e=c.GeoJSON.latLngsToCoords(this._latlngs,b?2:a?1:0,!0);a||(e=[e]);return c.GeoJSON.getFeature(this,{type:(b?"Multi":"")+"Polygon",coordinates:e})};c.LayerGroup.include({toMultiPoint:function(){var a=
        [];this.eachLayer(function(b){a.push(b.toGeoJSON().geometry.coordinates)});return c.GeoJSON.getFeature(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===a)return this.toMultiPoint();var b="GeometryCollection"===a,e=[];this.eachLayer(function(a){a.toGeoJSON&&(a=a.toGeoJSON(),e.push(b?a.geometry:c.GeoJSON.asFeature(a)))});return b?c.GeoJSON.getFeature(this,{geometries:e,type:"GeometryCollection"}):{type:"FeatureCollection",
        features:e}}});c.geoJSON=function(a,b){return new c.GeoJSON(a,b)};c.geoJson=c.geoJSON;c.Draggable=c.Evented.extend({options:{clickTolerance:3},statics:{START:c.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(a,b,c){this._element=a;this._dragStartTarget=b||a;this._preventOutline=
        c},enable:function(){this._enabled||(c.DomEvent.on(this._dragStartTarget,c.Draggable.START.join(" "),this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(c.Draggable._dragging===this&&this.finishDrag(),c.DomEvent.off(this._dragStartTarget,c.Draggable.START.join(" "),this._onDown,this),this._moved=this._enabled=!1)},_onDown:function(a){if(!a._simulated&&this._enabled&&(this._moved=!1,!(c.DomUtil.hasClass(this._element,"leaflet-zoom-anim")||c.Draggable._dragging||a.shiftKey||1!==
        a.which&&1!==a.button&&!a.touches||(c.Draggable._dragging=this,this._preventOutline&&c.DomUtil.preventOutline(this._element),c.DomUtil.disableImageDrag(),c.DomUtil.disableTextSelection(),this._moving)))){this.fire("down");var b=a.touches?a.touches[0]:a;this._startPoint=new c.Point(b.clientX,b.clientY);c.DomEvent.on(m,c.Draggable.MOVE[a.type],this._onMove,this).on(m,c.Draggable.END[a.type],this._onUp,this)}},_onMove:function(a){if(!a._simulated&&this._enabled)if(a.touches&&1<a.touches.length)this._moved=
        !0;else{var b=a.touches&&1===a.touches.length?a.touches[0]:a,b=(new c.Point(b.clientX,b.clientY)).subtract(this._startPoint);!b.x&&!b.y||Math.abs(b.x)+Math.abs(b.y)<this.options.clickTolerance||(c.DomEvent.preventDefault(a),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=c.DomUtil.getPosition(this._element).subtract(b),c.DomUtil.addClass(m.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,n.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=
        this._lastTarget.correspondingUseElement),c.DomUtil.addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(b),this._moving=!0,c.Util.cancelAnimFrame(this._animRequest),this._lastEvent=a,this._animRequest=c.Util.requestAnimFrame(this._updatePosition,this,!0))}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a);c.DomUtil.setPosition(this._element,this._newPos);this.fire("drag",a)},_onUp:function(a){!a._simulated&&this._enabled&&this.finishDrag()},
        finishDrag:function(){c.DomUtil.removeClass(m.body,"leaflet-dragging");this._lastTarget&&(c.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var a in c.Draggable.MOVE)c.DomEvent.off(m,c.Draggable.MOVE[a],this._onMove,this).off(m,c.Draggable.END[a],this._onUp,this);c.DomUtil.enableImageDrag();c.DomUtil.enableTextSelection();this._moved&&this._moving&&(c.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)}));
            this._moving=!1;c.Draggable._dragging=!1}});c.Handler=c.Class.extend({initialize:function(a){this._map=a},enable:function(){if(this._enabled)return this;this._enabled=!0;this.addHooks();return this},disable:function(){if(!this._enabled)return this;this._enabled=!1;this.removeHooks();return this},enabled:function(){return!!this._enabled}});c.Map.mergeOptions({dragging:!0,inertia:!c.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:Infinity,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});
    c.Map.Drag=c.Handler.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new c.Draggable(a._mapPane,a._container);this._draggable.on({down:this._onDown,dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this);this._draggable.on("predrag",this._onPreDragLimit,this);a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}c.DomUtil.addClass(this._map._container,
        "leaflet-grab leaflet-touch-drag");this._draggable.enable();this._positions=[];this._times=[]},removeHooks:function(){c.DomUtil.removeClass(this._map._container,"leaflet-grab");c.DomUtil.removeClass(this._map._container,"leaflet-touch-drag");this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDown:function(){this._map._stop()},_onDragStart:function(){var a=this._map;if(this._map.options.maxBounds&&
        this._map.options.maxBoundsViscosity){var b=c.latLngBounds(this._map.options.maxBounds);this._offsetLimit=c.bounds(this._map.latLngToContainerPoint(b.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(b.getSouthEast()).multiplyBy(-1).add(this._map.getSize()));this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart");a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var b=
        this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c);this._times.push(b);50<b-this._times[0]&&(this._positions.shift(),this._times.shift())}this._map.fire("move",a).fire("drag",a)},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2);this._initialWorldOffset=this._map.latLngToLayerPoint([0,0]).subtract(a).x;this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,b){return a-(a-b)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&
        this._offsetLimit){var a=this._draggable._newPos.subtract(this._draggable._startPos),b=this._offsetLimit;a.x<b.min.x&&(a.x=this._viscousLimit(a.x,b.min.x));a.y<b.min.y&&(a.y=this._viscousLimit(a.y,b.min.y));a.x>b.max.x&&(a.x=this._viscousLimit(a.x,b.max.x));a.y>b.max.y&&(a.y=this._viscousLimit(a.y,b.max.y));this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,b=Math.round(a/2),c=this._initialWorldOffset,d=this._draggable._newPos.x,f=(d-b+c)%a+
        b-c,a=(d+b+c)%a-b-c,c=Math.abs(f+c)<Math.abs(a+c)?f:a;this._draggable._absPos=this._draggable._newPos.clone();this._draggable._newPos.x=c},_onDragEnd:function(a){var b=this._map,e=b.options,d=!e.inertia||2>this._times.length;b.fire("dragend",a);if(d)b.fire("moveend");else{a=this._lastPos.subtract(this._positions[0]);var f=e.easeLinearity,d=a.multiplyBy(f/((this._lastTime-this._times[0])/1E3)),g=d.distanceTo([0,0]);a=Math.min(e.inertiaMaxSpeed,g);var d=d.multiplyBy(a/g),h=a/(e.inertiaDeceleration*
        f),k=d.multiplyBy(-h/2).round();k.x||k.y?(k=b._limitOffset(k,b.options.maxBounds),c.Util.requestAnimFrame(function(){b.panBy(k,{duration:h,easeLinearity:f,noMoveStart:!0,animate:!0})})):b.fire("moveend")}}});c.Map.addInitHook("addHandler","dragging",c.Map.Drag);c.Map.mergeOptions({doubleClickZoom:!0});c.Map.DoubleClickZoom=c.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var b=
        this._map,c=b.getZoom(),d=b.options.zoomDelta,c=a.originalEvent.shiftKey?c-d:c+d;"center"===b.options.doubleClickZoom?b.setZoom(c):b.setZoomAround(a.containerPoint,c)}});c.Map.addInitHook("addHandler","doubleClickZoom",c.Map.DoubleClickZoom);c.Map.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});c.Map.ScrollWheelZoom=c.Handler.extend({addHooks:function(){c.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this);this._delta=0},removeHooks:function(){c.DomEvent.off(this._map._container,
        "mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var b=c.DomEvent.getWheelDelta(a),e=this._map.options.wheelDebounceTime;this._delta+=b;this._lastMousePos=this._map.mouseEventToContainerPoint(a);this._startTime||(this._startTime=+new Date);b=Math.max(e-(+new Date-this._startTime),0);clearTimeout(this._timer);this._timer=setTimeout(c.bind(this._performZoom,this),b);c.DomEvent.stop(a)},_performZoom:function(){var a=this._map,b=a.getZoom(),c=this._map.options.zoomSnap||0;a._stop();
        var d=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,c=c?Math.ceil(d/c)*c:d,c=a._limitZoom(b+(0<this._delta?c:-c))-b;this._delta=0;this._startTime=null;c&&("center"===a.options.scrollWheelZoom?a.setZoom(b+c):a.setZoomAround(this._lastMousePos,b+c))}});c.Map.addInitHook("addHandler","scrollWheelZoom",c.Map.ScrollWheelZoom);c.extend(c.DomEvent,{_touchstart:c.Browser.msPointer?"MSPointerDown":c.Browser.pointer?"pointerdown":"touchstart",_touchend:c.Browser.msPointer?
        "MSPointerUp":c.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(a,b,e){function d(a){if(!(1<(c.Browser.pointer?c.DomEvent._pointersCount:a.touches.length))){var b=Date.now(),e=b-(g||b);h=a.touches?a.touches[0]:a;k=0<e&&250>=e;g=b}}function f(){if(k&&!h.cancelBubble){if(c.Browser.pointer){var a={},e,d;for(d in h)e=h[d],a[d]=e&&e.bind?e.bind(h):e;h=a}h.type="dblclick";b(h);g=null}}var g,h,k=!1,l=this._touchstart,m=this._touchend;a["_leaflet_"+l+e]=d;a["_leaflet_"+m+e]=f;a["_leaflet_dblclick"+
    e]=b;a.addEventListener(l,d,!1);a.addEventListener(m,f,!1);c.Browser.edge||a.addEventListener("dblclick",b,!1);return this},removeDoubleTapListener:function(a,b){var e=a["_leaflet_"+this._touchend+b],d=a["_leaflet_dblclick"+b];a.removeEventListener(this._touchstart,a["_leaflet_"+this._touchstart+b],!1);a.removeEventListener(this._touchend,e,!1);c.Browser.edge||a.removeEventListener("dblclick",d,!1);return this}});c.extend(c.DomEvent,{POINTER_DOWN:c.Browser.msPointer?"MSPointerDown":"pointerdown",
        POINTER_MOVE:c.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:c.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:c.Browser.msPointer?"MSPointerCancel":"pointercancel",TAG_WHITE_LIST:["INPUT","SELECT","OPTION"],_pointers:{},_pointersCount:0,addPointerListener:function(a,b,c,d){"touchstart"===b?this._addPointerStart(a,c,d):"touchmove"===b?this._addPointerMove(a,c,d):"touchend"===b&&this._addPointerEnd(a,c,d);return this},removePointerListener:function(a,b,c){c=a["_leaflet_"+b+
        c];"touchstart"===b?a.removeEventListener(this.POINTER_DOWN,c,!1):"touchmove"===b?a.removeEventListener(this.POINTER_MOVE,c,!1):"touchend"===b&&(a.removeEventListener(this.POINTER_UP,c,!1),a.removeEventListener(this.POINTER_CANCEL,c,!1));return this},_addPointerStart:function(a,b,e){var d=c.bind(function(a){if("mouse"!==a.pointerType&&a.pointerType!==a.MSPOINTER_TYPE_MOUSE)if(0>this.TAG_WHITE_LIST.indexOf(a.target.tagName))c.DomEvent.preventDefault(a);else return;this._handlePointer(a,b)},this);a["_leaflet_touchstart"+
        e]=d;a.addEventListener(this.POINTER_DOWN,d,!1);this._pointerDocListener||(a=c.bind(this._globalPointerUp,this),m.documentElement.addEventListener(this.POINTER_DOWN,c.bind(this._globalPointerDown,this),!0),m.documentElement.addEventListener(this.POINTER_MOVE,c.bind(this._globalPointerMove,this),!0),m.documentElement.addEventListener(this.POINTER_UP,a,!0),m.documentElement.addEventListener(this.POINTER_CANCEL,a,!0),this._pointerDocListener=!0)},_globalPointerDown:function(a){this._pointers[a.pointerId]=
            a;this._pointersCount++},_globalPointerMove:function(a){this._pointers[a.pointerId]&&(this._pointers[a.pointerId]=a)},_globalPointerUp:function(a){delete this._pointers[a.pointerId];this._pointersCount--},_handlePointer:function(a,b){a.touches=[];for(var c in this._pointers)a.touches.push(this._pointers[c]);a.changedTouches=[a];b(a)},_addPointerMove:function(a,b,e){var d=c.bind(function(a){(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType||0!==a.buttons)&&this._handlePointer(a,b)},
            this);a["_leaflet_touchmove"+e]=d;a.addEventListener(this.POINTER_MOVE,d,!1)},_addPointerEnd:function(a,b,e){var d=c.bind(function(a){this._handlePointer(a,b)},this);a["_leaflet_touchend"+e]=d;a.addEventListener(this.POINTER_UP,d,!1);a.addEventListener(this.POINTER_CANCEL,d,!1)}});c.Map.mergeOptions({touchZoom:c.Browser.touch&&!c.Browser.android23,bounceAtZoomLimits:!0});c.Map.TouchZoom=c.Handler.extend({addHooks:function(){c.DomUtil.addClass(this._map._container,"leaflet-touch-zoom");c.DomEvent.on(this._map._container,
        "touchstart",this._onTouchStart,this)},removeHooks:function(){c.DomUtil.removeClass(this._map._container,"leaflet-touch-zoom");c.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var b=this._map;if(a.touches&&2===a.touches.length&&!b._animatingZoom&&!this._zooming){var e=b.mouseEventToContainerPoint(a.touches[0]),d=b.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=b.getSize()._divideBy(2);this._startLatLng=b.containerPointToLatLng(this._centerPoint);
        "center"!==b.options.touchZoom&&(this._pinchStartLatLng=b.containerPointToLatLng(e.add(d)._divideBy(2)));this._startDist=e.distanceTo(d);this._startZoom=b.getZoom();this._moved=!1;this._zooming=!0;b._stop();c.DomEvent.on(m,"touchmove",this._onTouchMove,this).on(m,"touchend",this._onTouchEnd,this);c.DomEvent.preventDefault(a)}},_onTouchMove:function(a){if(a.touches&&2===a.touches.length&&this._zooming){var b=this._map,e=b.mouseEventToContainerPoint(a.touches[0]),d=b.mouseEventToContainerPoint(a.touches[1]),
        f=e.distanceTo(d)/this._startDist;this._zoom=b.getScaleZoom(f,this._startZoom);!b.options.bounceAtZoomLimits&&(this._zoom<b.getMinZoom()&&1>f||this._zoom>b.getMaxZoom()&&1<f)&&(this._zoom=b._limitZoom(this._zoom));if("center"===b.options.touchZoom){if(this._center=this._startLatLng,1===f)return}else{e=e._add(d)._divideBy(2)._subtract(this._centerPoint);if(1===f&&0===e.x&&0===e.y)return;this._center=b.unproject(b.project(this._pinchStartLatLng,this._zoom).subtract(e),this._zoom)}this._moved||(b._moveStart(!0),
        this._moved=!0);c.Util.cancelAnimFrame(this._animRequest);b=c.bind(b._move,b,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=c.Util.requestAnimFrame(b,this,!0);c.DomEvent.preventDefault(a)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,c.Util.cancelAnimFrame(this._animRequest),c.DomEvent.off(m,"touchmove",this._onTouchMove).off(m,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,
        this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});c.Map.addInitHook("addHandler","touchZoom",c.Map.TouchZoom);c.Map.mergeOptions({tap:!0,tapTolerance:15});c.Map.Tap=c.Handler.extend({addHooks:function(){c.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){c.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(a.touches)if(c.DomEvent.preventDefault(a),this._fireClick=
            !0,1<a.touches.length)this._fireClick=!1,clearTimeout(this._holdTimeout);else{var b=a.touches[0];a=b.target;this._startPos=this._newPos=new c.Point(b.clientX,b.clientY);a.tagName&&"a"===a.tagName.toLowerCase()&&c.DomUtil.addClass(a,"leaflet-active");this._holdTimeout=setTimeout(c.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",b))},this),1E3);this._simulateEvent("mousedown",b);c.DomEvent.on(m,{touchmove:this._onMove,touchend:this._onUp},this)}},
        _onUp:function(a){clearTimeout(this._holdTimeout);c.DomEvent.off(m,{touchmove:this._onMove,touchend:this._onUp},this);if(this._fireClick&&a&&a.changedTouches){a=a.changedTouches[0];var b=a.target;b&&b.tagName&&"a"===b.tagName.toLowerCase()&&c.DomUtil.removeClass(b,"leaflet-active");this._simulateEvent("mouseup",a);this._isTapValid()&&this._simulateEvent("click",a)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(a){a=a.touches[0];
            this._newPos=new c.Point(a.clientX,a.clientY);this._simulateEvent("mousemove",a)},_simulateEvent:function(a,b){var c=m.createEvent("MouseEvents");c._simulated=!0;b.target._simulatedClick=!0;c.initMouseEvent(a,!0,!0,n,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null);b.target.dispatchEvent(c)}});c.Browser.touch&&!c.Browser.pointer&&c.Map.addInitHook("addHandler","tap",c.Map.Tap);c.Map.mergeOptions({boxZoom:!0});c.Map.BoxZoom=c.Handler.extend({initialize:function(a){this._map=a;this._container=
        a._container;this._pane=a._panes.overlayPane},addHooks:function(){c.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){c.DomEvent.off(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_resetState:function(){this._moved=!1},_onMouseDown:function(a){if(!a.shiftKey||1!==a.which&&1!==a.button)return!1;this._resetState();c.DomUtil.disableTextSelection();c.DomUtil.disableImageDrag();this._startPoint=this._map.mouseEventToContainerPoint(a);
        c.DomEvent.on(m,{contextmenu:c.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=c.DomUtil.create("div","leaflet-zoom-box",this._container),c.DomUtil.addClass(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart"));this._point=this._map.mouseEventToContainerPoint(a);a=new c.Bounds(this._point,this._startPoint);var b=a.getSize();c.DomUtil.setPosition(this._box,a.min);this._box.style.width=
        b.x+"px";this._box.style.height=b.y+"px"},_finish:function(){this._moved&&(c.DomUtil.remove(this._box),c.DomUtil.removeClass(this._container,"leaflet-crosshair"));c.DomUtil.enableTextSelection();c.DomUtil.enableImageDrag();c.DomEvent.off(m,{contextmenu:c.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(1===a.which||1===a.button)this._finish(),this._moved&&(setTimeout(c.bind(this._resetState,this),0),a=new c.LatLngBounds(this._map.containerPointToLatLng(this._startPoint),
        this._map.containerPointToLatLng(this._point)),this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a}))},_onKeyDown:function(a){27===a.keyCode&&this._finish()}});c.Map.addInitHook("addHandler","boxZoom",c.Map.BoxZoom);c.Map.mergeOptions({keyboard:!0,keyboardPanDelta:80});c.Map.Keyboard=c.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a;this._setPanDelta(a.options.keyboardPanDelta);this._setZoomDelta(a.options.zoomDelta)},
        addHooks:function(){var a=this._map._container;0>=a.tabIndex&&(a.tabIndex="0");c.DomEvent.on(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks();c.DomEvent.off(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=
            m.body,b=m.documentElement,c=a.scrollTop||b.scrollTop,a=a.scrollLeft||b.scrollLeft;this._map._container.focus();n.scrollTo(a,c)}},_onFocus:function(){this._focused=!0;this._map.fire("focus")},_onBlur:function(){this._focused=!1;this._map.fire("blur")},_setPanDelta:function(a){var b=this._panKeys={},c=this.keyCodes,d,f;d=0;for(f=c.left.length;d<f;d++)b[c.left[d]]=[-1*a,0];d=0;for(f=c.right.length;d<f;d++)b[c.right[d]]=[a,0];d=0;for(f=c.down.length;d<f;d++)b[c.down[d]]=[0,a];d=0;for(f=c.up.length;d<
        f;d++)b[c.up[d]]=[0,-1*a]},_setZoomDelta:function(a){var b=this._zoomKeys={},c=this.keyCodes,d,f;d=0;for(f=c.zoomIn.length;d<f;d++)b[c.zoomIn[d]]=a;d=0;for(f=c.zoomOut.length;d<f;d++)b[c.zoomOut[d]]=-a},_addHooks:function(){c.DomEvent.on(m,"keydown",this._onKeyDown,this)},_removeHooks:function(){c.DomEvent.off(m,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var b=a.keyCode,e=this._map;if(b in this._panKeys){if(e._panAnim&&e._panAnim._inProgress)return;
            b=this._panKeys[b];a.shiftKey&&(b=c.point(b).multiplyBy(3));e.panBy(b);e.options.maxBounds&&e.panInsideBounds(e.options.maxBounds)}else if(b in this._zoomKeys)e.setZoom(e.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[b]);else if(27===b)e.closePopup();else return;c.DomEvent.stop(a)}}});c.Map.addInitHook("addHandler","keyboard",c.Map.Keyboard);c.Handler.MarkerDrag=c.Handler.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new c.Draggable(a,
        a,!0));this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).enable();c.DomUtil.addClass(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).disable();this._marker._icon&&c.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng();
        this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(a){var b=this._marker,e=b._shadow,d=c.DomUtil.getPosition(b._icon),f=b._map.layerPointToLatLng(d);e&&c.DomUtil.setPosition(e,d);b._latlng=f;a.latlng=f;a.oldLatLng=this._oldLatLng;b.fire("move",a).fire("drag",a)},_onDragEnd:function(a){delete this._oldLatLng;this._marker.fire("moveend").fire("dragend",a)}});c.Control=c.Class.extend({options:{position:"topright"},initialize:function(a){c.setOptions(this,a)},getPosition:function(){return this.options.position},
        setPosition:function(a){var b=this._map;b&&b.removeControl(this);this.options.position=a;b&&b.addControl(this);return this},getContainer:function(){return this._container},addTo:function(a){this.remove();this._map=a;var b=this._container=this.onAdd(a),e=this.getPosition();a=a._controlCorners[e];c.DomUtil.addClass(b,"leaflet-control");-1!==e.indexOf("bottom")?a.insertBefore(b,a.firstChild):a.appendChild(b);return this},remove:function(){if(!this._map)return this;c.DomUtil.remove(this._container);if(this.onRemove)this.onRemove(this._map);
            this._map=null;return this},_refocusOnMap:function(a){this._map&&a&&0<a.screenX&&0<a.screenY&&this._map.getContainer().focus()}});c.control=function(a){return new c.Control(a)};c.Map.include({addControl:function(a){a.addTo(this);return this},removeControl:function(a){a.remove();return this},_initControlPos:function(){function a(a,f){b[a+f]=c.DomUtil.create("div","leaflet-"+a+" leaflet-"+f,e)}var b=this._controlCorners={},e=this._controlContainer=c.DomUtil.create("div","leaflet-control-container",
        this._container);a("top","left");a("top","right");a("bottom","left");a("bottom","right")},_clearControlPos:function(){c.DomUtil.remove(this._controlContainer)}});c.Control.Zoom=c.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(a){var b=c.DomUtil.create("div","leaflet-control-zoom leaflet-bar"),e=this.options;this._zoomInButton=this._createButton(e.zoomInText,e.zoomInTitle,"leaflet-control-zoom-in",b,this._zoomIn);
        this._zoomOutButton=this._createButton(e.zoomOutText,e.zoomOutTitle,"leaflet-control-zoom-out",b,this._zoomOut);this._updateDisabled();a.on("zoomend zoomlevelschange",this._updateDisabled,this);return b},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){this._disabled=!0;this._updateDisabled();return this},enable:function(){this._disabled=!1;this._updateDisabled();return this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&
    this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,b,e,d,f){e=c.DomUtil.create("a",e,d);e.innerHTML=a;e.href="#";e.title=b;e.setAttribute("role","button");e.setAttribute("aria-label",b);c.DomEvent.on(e,"mousedown dblclick",c.DomEvent.stopPropagation).on(e,"click",c.DomEvent.stop).on(e,"click",f,this).on(e,"click",this._refocusOnMap,
        this);return e},_updateDisabled:function(){var a=this._map;c.DomUtil.removeClass(this._zoomInButton,"leaflet-disabled");c.DomUtil.removeClass(this._zoomOutButton,"leaflet-disabled");(this._disabled||a._zoom===a.getMinZoom())&&c.DomUtil.addClass(this._zoomOutButton,"leaflet-disabled");(this._disabled||a._zoom===a.getMaxZoom())&&c.DomUtil.addClass(this._zoomInButton,"leaflet-disabled")}});c.Map.mergeOptions({zoomControl:!0});c.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new c.Control.Zoom,
        this.addControl(this.zoomControl))});c.control.zoom=function(a){return new c.Control.Zoom(a)};c.Control.Attribution=c.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(a){c.setOptions(this,a);this._attributions={}},onAdd:function(a){a.attributionControl=this;this._container=c.DomUtil.create("div","leaflet-control-attribution");c.DomEvent&&c.DomEvent.disableClickPropagation(this._container);
        for(var b in a._layers)a._layers[b].getAttribution&&this.addAttribution(a._layers[b].getAttribution());this._update();return this._container},setPrefix:function(a){this.options.prefix=a;this._update();return this},addAttribution:function(a){if(!a)return this;this._attributions[a]||(this._attributions[a]=0);this._attributions[a]++;this._update();return this},removeAttribution:function(a){if(!a)return this;this._attributions[a]&&(this._attributions[a]--,this._update());return this},_update:function(){if(this._map){var a=
        [],b;for(b in this._attributions)this._attributions[b]&&a.push(b);b=[];this.options.prefix&&b.push(this.options.prefix);a.length&&b.push(a.join(", "));this._container.innerHTML=b.join(" | ")}}});c.Map.mergeOptions({attributionControl:!0});c.Map.addInitHook(function(){this.options.attributionControl&&(new c.Control.Attribution).addTo(this)});c.control.attribution=function(a){return new c.Control.Attribution(a)};c.Control.Scale=c.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,
        imperial:!0},onAdd:function(a){var b=c.DomUtil.create("div","leaflet-control-scale"),e=this.options;this._addScales(e,"leaflet-control-scale-line",b);a.on(e.updateWhenIdle?"moveend":"move",this._update,this);a.whenReady(this._update,this);return b},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,b,e){a.metric&&(this._mScale=c.DomUtil.create("div",b,e));a.imperial&&(this._iScale=c.DomUtil.create("div",b,e))},_update:function(){var a=
        this._map,b=a.getSize().y/2,a=a.distance(a.containerPointToLatLng([0,b]),a.containerPointToLatLng([this.options.maxWidth,b]));this._updateScales(a)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a);this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var b=this._getRoundNum(a);this._updateScale(this._mScale,1E3>b?b+" m":b/1E3+" km",b/a)},_updateImperial:function(a){a*=3.2808399;var b;5280<a?(a/=5280,b=this._getRoundNum(a),this._updateScale(this._iScale,
        b+" mi",b/a)):(b=this._getRoundNum(a),this._updateScale(this._iScale,b+" ft",b/a))},_updateScale:function(a,b,c){a.style.width=Math.round(this.options.maxWidth*c)+"px";a.innerHTML=b},_getRoundNum:function(a){var b=Math.pow(10,(Math.floor(a)+"").length-1);a/=b;return b*(10<=a?10:5<=a?5:3<=a?3:2<=a?2:1)}});c.control.scale=function(a){return new c.Control.Scale(a)};c.Control.Layers=c.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      b,c,d){return c<d?-1:d<c?1:0}},initialize:function(a,b,e){c.setOptions(this,e);this._layers=[];this._lastZIndex=0;this._handlingClick=!1;for(var d in a)this._addLayer(a[d],d);for(d in b)this._addLayer(b[d],d,!0)},onAdd:function(a){this._initLayout();this._update();this._map=a;a.on("zoomend",this._checkDisabledLayers,this);return this._container},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",
        this._onLayerChange,this)},addBaseLayer:function(a,b){this._addLayer(a,b);return this._map?this._update():this},addOverlay:function(a,b){this._addLayer(a,b,!0);return this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);(a=this._getLayer(c.stamp(a)))&&this._layers.splice(this._layers.indexOf(a),1);return this._map?this._update():this},expand:function(){c.DomUtil.addClass(this._container,"leaflet-control-layers-expanded");this._form.style.height=null;
        var a=this._map.getSize().y-(this._container.offsetTop+50);a<this._form.clientHeight?(c.DomUtil.addClass(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=a+"px"):c.DomUtil.removeClass(this._form,"leaflet-control-layers-scrollbar");this._checkDisabledLayers();return this},collapse:function(){c.DomUtil.removeClass(this._container,"leaflet-control-layers-expanded");return this},_initLayout:function(){var a=this._container=c.DomUtil.create("div","leaflet-control-layers");a.setAttribute("aria-haspopup",
        !0);c.DomEvent.disableClickPropagation(a);c.Browser.touch||c.DomEvent.disableScrollPropagation(a);var b=this._form=c.DomUtil.create("form","leaflet-control-layers-list");if(!c.Browser.android)c.DomEvent.on(a,{mouseenter:this.expand,mouseleave:this.collapse},this);var e=this._layersLink=c.DomUtil.create("a","leaflet-control-layers-toggle",a);e.href="#";e.title="Layers";if(c.Browser.touch)c.DomEvent.on(e,"click",c.DomEvent.stop).on(e,"click",this.expand,this);else c.DomEvent.on(e,"focus",this.expand,
        this);c.DomEvent.on(b,"click",function(){setTimeout(c.bind(this._onInputClick,this),0)},this);this._map.on("click",this.collapse,this);this.options.collapsed||this.expand();this._baseLayersList=c.DomUtil.create("div","leaflet-control-layers-base",b);this._separator=c.DomUtil.create("div","leaflet-control-layers-separator",b);this._overlaysList=c.DomUtil.create("div","leaflet-control-layers-overlays",b);a.appendChild(b)},_getLayer:function(a){for(var b=0;b<this._layers.length;b++)if(this._layers[b]&&
        c.stamp(this._layers[b].layer)===a)return this._layers[b]},_addLayer:function(a,b,e){a.on("add remove",this._onLayerChange,this);this._layers.push({layer:a,name:b,overlay:e});this.options.sortLayers&&this._layers.sort(c.bind(function(a,b){return this.options.sortFunction(a.layer,b.layer,a.name,b.name)},this));this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex))},_update:function(){if(!this._container)return this;c.DomUtil.empty(this._baseLayersList);c.DomUtil.empty(this._overlaysList);
        var a,b,e,d,f=0;for(e=0;e<this._layers.length;e++)d=this._layers[e],this._addItem(d),b=b||d.overlay,a=a||!d.overlay,f+=d.overlay?0:1;this.options.hideSingleBase&&(a=a&&1<f,this._baseLayersList.style.display=a?"":"none");this._separator.style.display=b&&a?"":"none";return this},_onLayerChange:function(a){this._handlingClick||this._update();var b=this._getLayer(c.stamp(a.target));(a=b.overlay?"add"===a.type?"overlayadd":"overlayremove":"add"===a.type?"baselayerchange":null)&&this._map.fire(a,b)},_createRadioElement:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        b){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(b?' checked="checked"':"")+"/>",d=m.createElement("div");d.innerHTML=c;return d.firstChild},_addItem:function(a){var b=m.createElement("label"),e=this._map.hasLayer(a.layer),d;a.overlay?(d=m.createElement("input"),d.type="checkbox",d.className="leaflet-control-layers-selector",d.defaultChecked=e):d=this._createRadioElement("leaflet-base-layers",e);d.layerId=c.stamp(a.layer);c.DomEvent.on(d,"click",this._onInputClick,
        this);e=m.createElement("span");e.innerHTML=" "+a.name;var f=m.createElement("div");b.appendChild(f);f.appendChild(d);f.appendChild(e);(a.overlay?this._overlaysList:this._baseLayersList).appendChild(b);this._checkDisabledLayers();return b},_onInputClick:function(){var a=this._form.getElementsByTagName("input"),b,c,d,f=[],g=[];this._handlingClick=!0;for(var h=a.length-1;0<=h;h--)b=a[h],c=this._getLayer(b.layerId).layer,d=this._map.hasLayer(c),b.checked&&!d?f.push(c):!b.checked&&d&&g.push(c);for(h=
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               0;h<g.length;h++)this._map.removeLayer(g[h]);for(h=0;h<f.length;h++)this._map.addLayer(f[h]);this._handlingClick=!1;this._refocusOnMap()},_checkDisabledLayers:function(){for(var a=this._form.getElementsByTagName("input"),b,c,d=this._map.getZoom(),f=a.length-1;0<=f;f--)b=a[f],c=this._getLayer(b.layerId).layer,b.disabled=void 0!==c.options.minZoom&&d<c.options.minZoom||void 0!==c.options.maxZoom&&d>c.options.maxZoom},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}});
    c.control.layers=function(a,b,e){return new c.Control.Layers(a,b,e)};c.Util.template=function(a,b){return a.replace(/\{ *([\w_]+) *\}/g,function(a,c){if("xyz"==c){a=b.z+"_"+b.x+"_"+b.y;for(var f=a.charAt(0),g=1;g<a.length;g++)"_"!=a.charAt(g)&&(f+="/"),f+=a.charAt(g);return f}return b[c]})}})(window,document);
//# sourceMappingURL=leaflet-src.map